(function(n){n.fn.gMap=function(t,i){switch(t){case"addMarker":return n(this).trigger("gMap.addMarker",[i.latitude,i.longitude,i.content,i.icon,i.popup]);case"centerAt":return n(this).trigger("gMap.centerAt",[i.latitude,i.longitude,i.zoom])}return opts=n.extend({},n.fn.gMap.defaults,t),this.each(function(){var t=new google.maps.Map(this),i,u,r,f;for($geocoder=new google.maps.Geocoder,opts.address?$geocoder.geocode({address:opts.address},function(n){n.length>0&&t.setCenter(n[0].geometry.location)}):opts.latitude&&opts.longitude?t.setCenter(new google.maps.LatLng(opts.latitude,opts.longitude)):n.isArray(opts.markers)&&opts.markers.length>0?opts.markers[0].address?$geocoder.geocode({address:opts.markers[0].address},function(n){n.length>0&&t.setCenter(n[0].geometry.location)}):t.setCenter(new google.maps.LatLng(opts.markers[0].latitude,opts.markers[0].longitude)):t.setCenter(new google.maps.LatLng(34.885931,9.84375)),t.setZoom(opts.zoom),t.setMapTypeId(google.maps.MapTypeId[opts.maptype]),map_options={scrollwheel:opts.scrollwheel},opts.controls===!1?n.extend(map_options,{disableDefaultUI:!0}):opts.controls.length!=0&&n.extend(map_options,opts.controls,{disableDefaultUI:!0}),t.setOptions(map_options),i=new google.maps.Marker,marker_icon=new google.maps.MarkerImage(opts.icon.image),marker_icon.size=new google.maps.Size(opts.icon.iconsize[0],opts.icon.iconsize[1]),marker_icon.anchor=new google.maps.Point(opts.icon.iconanchor[0],opts.icon.iconanchor[1]),i.setIcon(marker_icon),opts.icon.shadow&&(marker_shadow=new google.maps.MarkerImage(opts.icon.shadow),marker_shadow.size=new google.maps.Size(opts.icon.shadowsize[0],opts.icon.shadowsize[1]),marker_shadow.anchor=new google.maps.Point(opts.icon.shadowanchor[0],opts.icon.shadowanchor[1]),i.setShadow(marker_shadow)),n(this).bind("gMap.centerAt",function(n,i,r,u){u&&t.setZoom(u),t.panTo(new google.maps.LatLng(parseFloat(i),parseFloat(r)))}),n(this).bind("gMap.addMarker",function(n,r,f,e,o,s){var l=new google.maps.LatLng(parseFloat(r),parseFloat(f)),h=new google.maps.Marker({position:l}),c;o?(marker_icon=new google.maps.MarkerImage(o.image),marker_icon.size=new google.maps.Size(o.iconsize[0],o.iconsize[1]),marker_icon.anchor=new google.maps.Point(o.iconanchor[0],o.iconanchor[1]),h.setIcon(marker_icon),o.shadow&&(marker_shadow=new google.maps.MarkerImage(o.shadow),marker_shadow.size=new google.maps.Size(o.shadowsize[0],o.shadowsize[1]),marker_shadow.anchor=new google.maps.Point(o.shadowanchor[0],o.shadowanchor[1]),i.setShadow(marker_shadow))):(h.setIcon(i.getIcon()),h.setShadow(i.getShadow())),e&&(e=="_latlng"&&(e=r+", "+f),c=new google.maps.InfoWindow({content:opts.html_prepend+e+opts.html_append}),google.maps.event.addListener(h,"click",function(){u&&u.close(),c.open(t,h),u=c}),s&&c.open(t,h)),h.setMap(t)}),r=0;r<opts.markers.length;r++)marker=opts.markers[r],marker.address?(marker.html=="_address"&&(marker.html=marker.address),f=this,$geocoder.geocode({address:marker.address},function(t,i){return function(r){r.length>0&&n(i).trigger("gMap.addMarker",[r[0].geometry.location.lat(),r[0].geometry.location.lng(),t.html,t.icon])}}(marker,f))):n(this).trigger("gMap.addMarker",[marker.latitude,marker.longitude,marker.html,marker.icon])})},n.fn.gMap.defaults={address:"",latitude:0,longitude:0,zoom:1,markers:[],controls:[],scrollwheel:!1,maptype:"ROADMAP",html_prepend:'<div class="gmap_marker">',html_append:"<\/div>",icon:{image:"http://www.google.com/mapfiles/marker.png",shadow:"http://www.google.com/mapfiles/shadow50.png",iconsize:[20,34],shadowsize:[37,34],iconanchor:[9,34],shadowanchor:[6,34]}}})(jQuery);
//@ sourceMappingURL=jquery.gmap.min.js.map