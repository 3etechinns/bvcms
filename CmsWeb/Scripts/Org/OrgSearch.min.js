$(function(){$("#Name").focus(),$(".bt").button(),$("#clear").click(function(n){return n.preventDefault(),$("input:text").val(""),$("#ProgramId,#CampusId,#ScheduleId,#TypeId").val(0),$("#OnlineReg").val(-1),$("#MainFellowship")[0].checked=!1,$("#ParentOrg")[0].checked=!1,$.post("/OrgSearch/DivisionIds/0",null,function(n){$("#DivisionId").html(n)}),!1}),$("#search").click(function(n){var t,i;return n.preventDefault(),t=$("#Name").val(),t.match("^M.")=="M."&&($("#Name").val(""),i=$("#results").closest("form"),i.attr("action","/OrgSearch/CreateMeeting/"+t),i.submit()),$.getTable(),!1}),$("#hideshow").click(function(){$(".managedivisions").toggle()}),$.getTable=function(){var n=$("#results").closest("form"),t=n.serialize();return $.block(),$.post($("#search").attr("href"),t,function(n){$("#results").replaceWith(n).ready(function(){$.fmtTable(),$.unblock()})}),!1},$(".datepicker").datepicker(),$.editable.addInputType("datepicker",{element:function(n){var t=$("<input>");return n.width!="none"&&t.width(n.width),n.height!="none"&&t.height(n.height),t.attr("autocomplete","off"),$(this).append(t),t},plugin:function(n){var t=this;n.onblur="ignore",$(this).find("input").datepicker().bind("click",function(){return $(this).datepicker("show"),!1}).bind("dateSelected",function(){$(t).submit()})}}),$.editable.addInputType("checkbox",{element:function(){var n=$('<input type="checkbox">');return $(this).append(n),$(n).click(function(){var t=$(n).attr("checked")?"yes":"no";$(n).val(t)}),n},content:function(n){var r=n=="yes"?1:0,t=$(":input:first",this),i;$(t).attr("checked",r),i=$(t).attr("checked")?"yes":"no",$(t).val(i)}}),$.fmtTable=function(){$("#results td.tip[title]").tooltip({showBody:"|"}),$("#results > tbody > tr:even").addClass("alt"),$("#results").bind("mousedown",function(n){$(n.target).hasClass("bday")?$(n.target).editable("/OrgSearch/Edit/",{type:"datepicker",tooltip:"click to edit...",event:"click",submit:"OK",cancel:"Cancel",width:"100px",height:25}):$(n.target).hasClass("yesno")&&$(n.target).editable("/OrgSearch/Edit",{type:"checkbox",onblur:"ignore",submit:"OK"})})},$.fmtTable(),$.maxZIndex=$.fn.maxZIndex=function(n){var i={inc:10,group:"*"},t;return($.extend(i,n),t=0,$(i.group).each(function(){var n=parseInt($(this).css("z-index"));t=n>t?n:t}),!this.jquery)?t:this.each(function(){t+=i.inc,$(this).css("z-index",t)})},$("#searchvalues select").css("width","100%"),$("#ProgramId").change(function(){$.post("/OrgSearch/DivisionIds/"+$(this).val(),null,function(n){$("#DivisionId").html(n)})}),$("#ApplyType").click(function(n){n.preventDefault();var t=$("#results").closest("form"),i=t.serialize();return $.block(),$.post("/OrgSearch/ApplyType/"+$("#TargetType").val(),i,function(){$.getTable()}),!1}),$("#MakeNewDiv").click(function(n){return n.preventDefault(),$.post("/OrgSearch/MakeNewDiv/",{id:$("#TagProgramId").val(),name:$("#NewDiv").val()},function(n){$("#TagDiv").html(n),$("#NewDiv").val("")}),!1}),$("#RenameDiv").click(function(n){return n.preventDefault(),$.post("/OrgSearch/RenameDiv/",{id:$("#TagProgramId").val(),divid:$("#TagDiv").val(),name:$("#NewDiv").val()},function(n){n=="error"&&alert("expected error"),$("#TagDiv").html(n),$("#NewDiv").val("")}),!1}),$("#TagProgramId").change(function(){$.post("/OrgSearch/TagDivIds/"+$(this).val(),null,function(n){$("#TagDiv").html(n),$("#search").click()})}),$("#TagDiv").change(function(){$("#search").click()});$("form").on("keypress","input",function(n){return n.which&&n.which==13||n.keyCode&&n.keyCode==13?($("a.default").click(),!1):!0});$("div.dialog").dialog({autoOpen:!1}),$("#rollsheet1").click(function(n){return n.preventDefault(),hideDropdowns(),$.post("/OrgSearch/DefaultMeetingDate/"+$("#ScheduleId").val(),null,function(n){$("#MeetingDate").val(n.date),$("#MeetingTime").val(n.time);var t=$("#PanelRollsheet");t.dialog("open")}),!1}),$("#AttNotices").click(function(n){var i,t;return(n.preventDefault(),hideDropdowns(),i=$("#DivisionId").val(),!confirm("This will send email notices to leaders based on your filters, continue?"))?!1:($.block(),t=$("#orgsearchform").serialize(),$.post("/OrgSearch/EmailAttendanceNotices",t,function(){$.unblock(),$.growlUI("complete","Email Notices Sent")}),!1)}),$("#attdetail1").click(function(n){n.preventDefault(),hideDropdowns();var t=$("#PanelAttDetail");return t.dialog("open"),!1}),$("#rollsheet2").click(function(n){n.preventDefault(),hideDropdowns(),$("div.dialog").dialog("close");var t="?dt="+$("#MeetingDate").val()+" "+$("#MeetingTime").val();return $("#altnames").is(":checked")&&(t+="&altnames=true"),$("#bygroup").is(":checked")&&(t+="&bygroup=1"),$("#highlightsg").val()&&(t+="&highlight="+$("#highlightsg").val()),$("#sgprefix").val()&&(t+="&sgprefix="+$("#sgprefix").val()),$("#rallymode").is(":checked")?$("#orgsearchform").attr("action","/Reports/RallyRollsheet"+t):$("#orgsearchform").attr("action","/Reports/Rollsheet"+t),$("#orgsearchform").submit(),!1}),$("#ExportExcel").click(function(n){return n.preventDefault(),hideDropdowns(),$("#orgsearchform").attr("action","/OrgSearch/ExportExcel"),$("#orgsearchform").submit(),!1}),$("#ExportMembersExcel").click(function(n){return n.preventDefault(),hideDropdowns(),$("#orgsearchform").attr("action","/OrgSearch/ExportMembersExcel"),$("#orgsearchform").submit(),!1}),$("#Meetings").click(function(n){return n.preventDefault(),$("div.dialog").dialog("close"),hideDropdowns(),$("#orgsearchform").attr("action","/Reports/Meetings"),$("#orgsearchform").submit(),!1}),$("#Structure").click(function(n){return n.preventDefault(),hideDropdowns(),$("#orgsearchform").attr("action","/OrgSearch/OrganizationStructure"),$("#orgsearchform").submit(),!1}),$("#RecentAbsents").click(function(n){return n.preventDefault(),hideDropdowns(),$("#orgsearchform").attr("action","/Reports/RecentAbsents"),$("#orgsearchform").submit(),!1}),$("#attdetail2").click(function(n){n.preventDefault(),$("div.dialog").dialog("close");var t="?dt1="+$("#MeetingDate1").val()+"&dt2="+$("#MeetingDate2").val();return $("#orgsearchform").attr("action","/Reports/AttendanceDetail"+t),$("#orgsearchform").submit(),!1}),$("#Roster").click(function(n){return n.preventDefault(),hideDropdowns(),$("#orgsearchform").attr("action","/Reports/Roster"),$("#orgsearchform").submit(),!1}),$("#PasteSettings").click(function(n){if(n.preventDefault(),hideDropdowns(),!confirm("Are you sure you want to replace all these settings?"))return!1;var t=$("form"),i=t.serialize();return $.post(this.href,i,function(){$.growlUI("Completed","Settings Replaced")}),!1}),$("#RepairTransactions").click(function(n){if(n.preventDefault(),hideDropdowns(),!confirm("Are you sure you want to run repair transactions?"))return!1;var t=$("form"),i=t.serialize();return $.post(this.href,i,function(){$.growlUI("Completed","Repair Completed")}),!1}),$("a.ViewReport").click(function(n){n.preventDefault(),hideDropdowns();var t=$(this).attr("href");return $("#orgsearchform").attr("action",t),$("#orgsearchform").submit(),!1});$("body").on("click","a.taguntag",function(n){n.preventDefault(),hideDropdowns();var t=$(this),i=$("#TagDiv").val();return i>0&&$.post(t.attr("href"),{tagdiv:i},function(n){n=="error"?alert("unexpected error, refresh page"):($(t).parent().parent().replaceWith(n),$.fmtTable())}),!1});$("body").on("click","a.maindiv",function(n){n.preventDefault();var t=$(this);return $.post(t.attr("href"),{tagdiv:$("#TagDiv").val()},function(n){n=="error"?alert("unexpected error, refresh page"):($(t).parent().parent().replaceWith(n),$.fmtTable())}),!1});$("#enrollmentcontrol1").click(function(n){n.preventDefault(),hideDropdowns();var t=$("#PanelEnrollmentControl");return t.dialog("open"),!1}),$("#enrollmentcontrol2").click(function(n){n.preventDefault(),hideDropdowns(),$("div.dialog").dialog("close");var t="/Reports/EnrollmentControl";return $("#enrcontrolfiltertag").is(":checked")&&(t=t.appendQuery("usecurrenttag=true")),$("#enrcontrolexcel").is(":checked")&&(t=t.appendQuery("excel=true")),$("#orgsearchform").attr("action",t),$("#orgsearchform").submit(),!1}),$("#enrollmentcontrol2i").click(function(n){return n.preventDefault(),hideDropdowns(),$("div.dialog").dialog("close"),$("#orgsearchform").attr("action","/Reports/EnrollmentControl2"),$("#orgsearchform").submit(),!1})});
//@ sourceMappingURL=OrgSearch.min.js.map