$(function(){$("#Name").focus(),$(".bt").button(),$("#clear").click(function(n){return n.preventDefault(),$("input:text").val(""),$("#ProgramId,#CampusId,#ScheduleId,#TypeId").val(0),$("#OnlineReg").val(-1),$.post("/OrgSearch/DivisionIds/0",null,function(n){$("#DivisionId").html(n)}),!1}),$("#search").click(function(n){var t,i;return n.preventDefault(),t=$("#Name").val(),t.match("^M.")=="M."&&($("#Name").val(""),i=$("#results").closest("form"),i.attr("action","/OrgSearch/CreateMeeting/"+t),i.submit()),$.getTable(),!1}),$("#hideshow").click(function(){$(".managedivisions").toggle()}),$.getTable=function(){var n=$("#results").closest("form"),t=n.serialize();return $.block(),$.post($("#search").attr("href"),t,function(n){$("#results").replaceWith(n).ready(function(){$.fmtTable(),$.unblock()})}),!1},$(".datepicker").datepicker(),$.editable.addInputType("datepicker",{element:function(n){var t=$("<input>");return n.width!="none"&&t.width(n.width),n.height!="none"&&t.height(n.height),t.attr("autocomplete","off"),$(this).append(t),t},plugin:function(n){var t=this;n.onblur="ignore",$(this).find("input").datepicker().bind("click",function(){return $(this).datepicker("show"),!1}).bind("dateSelected",function(){$(t).submit()})}}),$.editable.addInputType("checkbox",{element:function(){var n=$('<input type="checkbox">');return $(this).append(n),$(n).click(function(){var t=$(n).attr("checked")?"yes":"no";$(n).val(t)}),n},content:function(n){var r=n=="yes"?1:0,t=$(":input:first",this),i;$(t).attr("checked",r),i=$(t).attr("checked")?"yes":"no",$(t).val(i)}}),$.fmtTable=function(){$("#results td.tip[title]").tooltip({showBody:"|"}),$("#results > tbody > tr:even").addClass("alt"),$("#results").bind("mousedown",function(n){$(n.target).hasClass("bday")?$(n.target).editable("/OrgSearch/Edit/",{type:"datepicker",tooltip:"click to edit...",event:"click",submit:"OK",cancel:"Cancel",width:"100px",height:25}):$(n.target).hasClass("yesno")&&$(n.target).editable("/OrgSearch/Edit",{type:"checkbox",onblur:"ignore",submit:"OK"})})},$.fmtTable(),$.maxZIndex=$.fn.maxZIndex=function(n){var i={inc:10,group:"*"},t;return($.extend(i,n),t=0,$(i.group).each(function(){var n=parseInt($(this).css("z-index"));t=n>t?n:t}),!this.jquery)?t:this.each(function(){t+=i.inc,$(this).css("z-index",t)})},$("#searchvalues select").css("width","100%"),$("#ProgramId").change(function(){$.post("/OrgSearch/DivisionIds/"+$(this).val(),null,function(n){$("#DivisionId").html(n)})}),$("#ApplyType").click(function(n){n.preventDefault();var t=$("#results").closest("form"),i=t.serialize();return $.block(),$.post("/OrgSearch/ApplyType/"+$("#TargetType").val(),i,function(){$.getTable()}),!1}),$("#MakeNewDiv").click(function(n){return n.preventDefault(),$.post("/OrgSearch/MakeNewDiv/",{id:$("#TagProgramId").val(),name:$("#NewDiv").val()},function(n){$("#TagDiv").html(n),$("#NewDiv").val("")}),!1}),$("#RenameDiv").click(function(n){return n.preventDefault(),$.post("/OrgSearch/RenameDiv/",{id:$("#TagProgramId").val(),divid:$("#TagDiv").val(),name:$("#NewDiv").val()},function(n){n=="error"&&alert("expected error"),$("#TagDiv").html(n),$("#NewDiv").val("")}),!1}),$("#TagProgramId").change(function(){$.post("/OrgSearch/TagDivIds/"+$(this).val(),null,function(n){$("#TagDiv").html(n),$("#search").click()})}),$("#TagDiv").change(function(){$("#search").click()});$("form").on("keypress","input",function(n){return n.which&&n.which==13||n.keyCode&&n.keyCode==13?($("a.default").click(),!1):!0});$("div.dialog").dialog({autoOpen:!1}),$("#rollsheet1").click(function(n){return n.preventDefault(),hideDropdowns(),$.post("/OrgSearch/DefaultMeetingDate/"+$("#ScheduleId").val(),null,function(n){$("#MeetingDate").val(n.date),$("#MeetingTime").val(n.time);var t=$("#PanelRollsheet");t.dialog("open")}),!1}),$("#AttNotices").click(function(n){var t,i;return(n.preventDefault(),hideDropdowns(),t=$("#DivisionId").val(),t=="0")?($.growlUI("error","must choose division"),!1):confirm("This will send email notices to leaders, continue?")?($.block(),i=$("#orgsearchform").serialize(),$.post("/OrgSearch/EmailAttendanceNotices/"+t,i,function(){$.unblock(),$.growlUI("complete","Email Notices Sent")}),!1):!1}),$("#attdetail1").click(function(n){n.preventDefault(),hideDropdowns();var t=$("#PanelAttDetail");return t.dialog("open"),!1}),$("#rollsheet2").click(function(n){var i,r,t;return(n.preventDefault(),hideDropdowns(),$("div.dialog").dialog("close"),i=$("#ProgramId").val(),r=$("#DivisionId").val(),i=="0")?($.growlUI("error","must choose program"),!1):(t="?div="+r+"&pid="+i+"&schedule="+$("#ScheduleId").val()+"&name="+$("#Name").val()+"&dt="+$("#MeetingDate").val()+" "+$("#MeetingTime").val(),$("#altnames").is(":checked")&&(t+="&altnames=true"),$("#rallymode").is(":checked")?window.open("/Reports/RallyRollsheet/"+t):window.open("/Reports/Rollsheet/"+t),!1)}),$("#ExportExcel").click(function(n){n.preventDefault(),$("div.dialog").dialog("close");var t="?prog="+$("#ProgramId").val()+"&div="+$("#DivisionId").val()+"&schedule="+$("#ScheduleId").val()+"&status="+$("#StatusId").val()+"&campus="+$("#CampusId").val()+"&name="+$("#Name").val();return window.open("/OrgSearch/ExportExcel/"+t),!1}),$("#Meetings").click(function(n){n.preventDefault(),$("div.dialog").dialog("close");var t="?progid="+$("#ProgramId").val()+"&divid="+$("#DivisionId").val()+"&schedid="+$("#ScheduleId").val()+"&campusid="+$("#CampusId").val()+"&statusid="+$("#StatusId").val()+"&name="+$("#Name").val();return window.open("/Reports/Meetings"+t),!1}),$("#RecentAbsents").click(function(n){n.preventDefault(),hideDropdowns();var t="/Reports/RecentAbsents";return $("#DivisionId").val()>0&&(t=t.appendQuery("divid="+$("#DivisionId").val())),window.open(t),!1}),$("#attdetail2").click(function(n){n.preventDefault(),$("div.dialog").dialog("close");var t="?progid="+$("#ProgramId").val()+"&divid="+$("#DivisionId").val()+"&schedid="+$("#ScheduleId").val()+"&name="+$("#Name").val()+"&dt1="+$("#MeetingDate1").val()+"&dt2="+$("#MeetingDate2").val();return window.open("/Reports/AttendanceDetail"+t),!1}),$("#Roster").click(function(n){var t,i;return(n.preventDefault(),hideDropdowns(),t=$("#DivisionId").val(),t=="0")?($.growlUI("error","must choose division"),!1):(i="?div="+t+"&schedule="+$("#ScheduleId").val(),window.open("/Reports/Roster/"+i),!1)}),$("#PasteSettings").click(function(n){if(n.preventDefault(),hideDropdowns(),!confirm("Are you sure you want to replace all these settings?"))return!1;var t=$("form"),i=t.serialize();return $.post(this.href,i,function(){$.growlUI("Completed","Settings Replaced")}),!1}),$("#RepairTransactions").click(function(n){if(n.preventDefault(),hideDropdowns(),!confirm("Are you sure you want to run repair transactions?"))return!1;var t=$("form"),i=t.serialize();return $.post(this.href,i,function(){$.growlUI("Completed","Repair Completed")}),!1}),$("a.ViewReport").click(function(n){var t,i;return(n.preventDefault(),hideDropdowns(),t=$("#DivisionId").val(),t=="0")?($.growlUI("error","must choose division"),!1):(i="?div="+t+"&schedule="+$("#ScheduleId").val()+"&name="+$("#Name").val(),window.open($(this).attr("href")+i),!1)});$("body").on("click","a.taguntag",function(n){n.preventDefault(),hideDropdowns();var t=$(this),i=$("#TagDiv").val();return i>0&&$.post(t.attr("href"),{tagdiv:i},function(n){n=="error"?alert("unexpected error, refresh page"):($(t).parent().parent().replaceWith(n),$.fmtTable())}),!1});$("body").on("click","a.maindiv",function(n){n.preventDefault();var t=$(this);return $.post(t.attr("href"),{tagdiv:$("#TagDiv").val()},function(n){n=="error"?alert("unexpected error, refresh page"):($(t).parent().parent().replaceWith(n),$.fmtTable())}),!1});$("#enrollmentcontrol1").click(function(n){n.preventDefault(),hideDropdowns();var t=$("#PanelEnrollmentControl");return t.dialog("open"),!1}),$("#enrollmentcontrol2").click(function(n){var i,r,t;return(n.preventDefault(),hideDropdowns(),$("div.dialog").dialog("close"),i=$("#ProgramId").val(),r=$("#DivisionId").val(),i=="0")?($.growlUI("error","must choose program"),!1):(t="?div="+r+"&pid="+i+"&schedule="+$("#ScheduleId").val()+"&name="+$("#Name").val(),$("#enrcontrolfiltertag").is(":checked")&&(t+="&usecurrenttag=true"),$("#enrcontrolexcel").is(":checked")&&(t+="&excel=true"),window.open("/Reports/EnrollmentControl/"+t),!1)}),$("#enrollmentcontrol2i").click(function(n){var t,i,r;return(n.preventDefault(),hideDropdowns(),$("div.dialog").dialog("close"),t=$("#ProgramId").val(),i=$("#DivisionId").val(),t=="0")?($.growlUI("error","must choose program"),!1):(r="?div="+i+"&pid="+t+"&schedule="+$("#ScheduleId").val()+"&name="+$("#Name").val(),window.open("/Reports/EnrollmentControl2/"+r),!1)})});
//@ sourceMappingURL=OrgSearch.min.js.map