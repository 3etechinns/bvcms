function ChangePage(){}function SearchClicked(){}function SelectPerson(){}function ActOnPerson(n,t){var i=$("#TaskId").val();$.post(n+i+"?peopleid="+t,null,function(n){$("#r"+i).html(n)});$("#dialogbox").dialog("close")}function AddSelected(n){ActOnPerson(n.url,n.pid)}function AddSelected2(n){var t=$(".actionitem:checked").getCheckboxVal().join(","),i="items="+t;$.block();$.post("/Task/DelegateAll/"+n.pid,i,function(n){$("#tasks > tbody").html(n).ready(stripeList);$("#dialogbox").dialog("close");$.unblock()})}var queryString,GotoPage,SetPageSize;$(function(){var u,i,r;$("#tabs").tabs();$("#tabs > ul > li > a").click(function(){var n=$(this).attr("href").substring(1);return f(n)});u=$.cookie("tasklast");$("#tasks > thead a.sortable").click(function(){$("#Sort").val($(this).text());n()});$("#dialogbox").dialog({title:"Search Dialog",bgiframe:!0,autoOpen:!1,width:700,height:630,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}});$("body").on("click","#changeowner",function(n){n.preventDefault();var t=$("#dialogbox");return $("iframe",t).attr("src",this.href),t.dialog("option","title","Change Owner"),t.dialog("open"),!1});$("body").on("click","#delegate",function(n){n.preventDefault();var t=$("#dialogbox");return $("iframe",t).attr("src",this.href),t.dialog("option","title","Delegate task"),t.dialog("open"),!1});$("body").on("click","#changeabout",function(n){n.preventDefault();var t=$("#dialogbox");return $("iframe",t).attr("src",this.href),t.dialog("option","title","Make Task About"),t.dialog("open"),!1});var n=function(n){n&&n.preventDefault();var t=$("#form").formSerialize2();$.navigate("/Task/List",t)},f=function(t){return t&&$("#CurTab").val(t),$.cookie("CurTaskTab",t,{expires:360}),n(),!1},e=function(n){n&&$("#CurTab").val(n);var t=$('#tabs a[href="#'+$("#CurTab").val()+'"]').parent().index();$("#tabs").tabs("option","active",t)},t=function(){$("#tasks > tbody > tr:even").addClass("alt")},o=function(n){$.post("/Task/Action/",n,function(n){var i=n.split("<!---------->");$("#tabs").html(i[0]);$("#actions").html(i[1]);$("#tasks > tbody").html(i[2]).ready(t)})};SearchClicked=n;e($.cookie("CurTaskTab"));t();$("#actions").change(function(){var i=$("#actions option:selected").val(),r=$(".actionitem:checked").getCheckboxVal().join(","),u="option="+i+"&curtab="+$("#CurTab").val()+"&items="+r,n;if($("#actions").attr("selectedIndex",0),r!="")switch(i){case"":case"-":return;case"delegate":n=$("#dialogbox");$("iframe",n).attr("src","/SearchAdd/Index/1?type=taskdelegate2");n.dialog("option","title","Delegate tasks");n.dialog("open");return;case"sharelist":$.growlUI("error","not implemented yet");return;case"deletelist":confirm("Are you sure you want to delete the list?")&&($.block(),o(u),$.unblock());return;default:$.block();$.post("/Task/Action/",u,function(n){$("#tasks > tbody").html(n).ready(t);$.unblock()});return}});$("#ListName").keypress(function(n){var t=window.event?n.keyCode:n.which;return t!=13?!0:(i(),!1)});i=function(n){n&&n.preventDefault();var t="ListName="+$("#ListName").val();return $.post("/Task/AddList/",t,function(n){var t=n.split("<!---------->");$("#tabs").html(t[0]);$("#actions").html(t[1]);$("#ListName").val("")}),!1};$("#AddList").click(i);$("#TaskDesc").keypress(function(n){var t=window.event?n.keyCode:n.which;return t!=13?!0:(r(),!1)});r=function(n){var t,i;(n&&n.preventDefault(),t=$("#TaskDesc").val().replace(/\s/g,""),t&&t.length!=0)&&(i="TaskDesc="+$("#TaskDesc").val()+"&CurTab="+$("#CurTab").val(),$.post("/Task/AddTask/",i,function(n){$("#nomatch").remove();var t=!($("#tasks > tbody tr:visible:first").hasClass("alt")||!1);$("#tasks > tbody tr:first").before(n);t&&$("#tasks > tbody tr:first").addClass("alt");$("#TaskDesc").val("")}))};$("#AddTask").click(r);$("#OwnerOnly").click(n);$("#StatusId").change(n);$("body").on("click","a.showdetail",function(n){n.preventDefault();var t=$(this).attr("task"),i=$("#TaskId").val();i?$.post("/Task/Detail/"+t+"/Row/"+i,function(n){var r=n.split("<!---------->");$("#r"+i).html(r[0]);$("#r"+i).removeClass("detailrow");$("#r"+t).addClass("detailrow").html(r[1])}):$.post("/Task/Detail/"+t,function(n){$("#r"+t).addClass("detailrow");$("#r"+t).html(n)})});$("body").on("click",".deselect",function(n){n.preventDefault();var t=$("#TaskId").val();return $.post("/Task/Columns/"+t,function(n){$("#r"+t).removeClass("detailrow").html(n)}),!1});$("body").on("click","a.complete",function(n){n.preventDefault();var t=$(this).attr("task");return $.post("/Task/SetComplete/"+t,null,function(n){$("#r"+t).removeClass("detailrow").html(n)}),!1});$("body").on("click","a.accept",function(n){n.preventDefault();var t=$(this).attr("task");return $.post("/Task/Accept/"+t,null,function(n){$("#r"+t).html(n)}),!1});$("#dialogbox2").dialog({overlay:{background:"#000",opacity:.8},bgiframe:!0,modal:!0,autoOpen:!1,closeOnEscape:!0,width:700,height:525,position:"top",close:function(){$("#dialogbox2").empty();SearchClicked=n}});$("body").on("click","a.completewcontact",function(n){n.preventDefault();var t=$("#TaskId").val();return $.post("/Task/CompleteWithContact/"+t,null,function(n){window.location="/Contact/"+n.ContactId+"?edit=true"}),!1});$("body").on("click","input.edit",function(n){n.preventDefault();var t=$("#TaskId").val();$.post("/Task/Edit/"+t,function(n){$("#r"+t).html(n);$(".datepicker").datepicker()})});$("body").on("click","input.update",function(n){n.preventDefault();var t=$("#TaskId").val(),i=$("#Edit").formSerialize2();return $.post("/Task/Update/"+t,i,function(n){$("#r"+t).html(n)},"html"),!1})});queryString="";$.fn.initPager=function(){return this.each(function(){$(".pagination",this).pagination($("#Count",this).val(),{items_per_page:$("#PageSize",this).val(),num_display_entries:5,num_edge_entries:1,current_page:0,callback:ChangePage});$("#NumItems",this).text($("#Count",this).val().addCommas()+" items")}),this};GotoPage=function(n){var t=$("#form").formSerialize2();t=t.appendQuery("Page="+n);$.navigate("/Task/List",t)};SetPageSize=function(n){var t=$("#form").formSerialize2();t=t.appendQuery("PageSize="+n);$.navigate("/Task/List",t)};
/*
//# sourceMappingURL=Task.min.js.map
*/