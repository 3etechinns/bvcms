function dimOff(){$("#darkLayer").hide()}function dimOn(){$("#darkLayer").show()}$(function(){$.gotoPage=function(n,t){var i=$(n).closest("form");return $("#Page",i).val(t),$.getTable(i)},$.setPageSize=function(n,t){var i=$(n).closest("form");return $("#Page",i).val(1),$("#PageSize",i).val(t),$.getTable(i)},$.getTable=function(n){return $.ajax({type:"POST",url:n.attr("action"),data:n.serialize(),success:function(t){n.html(t)}}),!1},$("table.grid > thead a.sortable").live("click",function(){var n=$(this).closest("form"),i=$(this).text(),r=$("#Sort",n),t=$("#Direction",n);return $(r).val()==i&&$(t).val()=="asc"?$(t).val("desc"):$(t).val("asc"),$(r).val(i),$.getTable(n),!1}),$.showTable=function(n){return $("table.table",n).size()==0&&$.getTable(n),!1},$.updateTable=function(n){return $("table.table",n).size()>0&&$.getTable(n),!1};$("body").on("click","input[name='toggletarget']",function(){$('a.target[target="people"]').length==0?($("a.target").attr("target","people"),$("input[name='toggletarget']").attr("checked",!0)):($("a.target").removeAttr("target"),$("input[name='toggletarget']").removeAttr("checked"))})}),$(function(){$("#SearchText").each(function(){var n,i=$(this).typeahead({minLength:3,items:15,highlighter:function(t){var i=n[t],r="<a><b>"+(i.isOrg?"Org: ":"")+i.line1+"<\/b>";return i.id>0&&(r+="<br>"+(i.isOrg?"Div: ":"")+i.line2),r+="<\/a>",$("<div>").append(r)},sorter:function(n){return n},matcher:function(){return!0},updater:function(t){var i=n[t];return window.location=i.id===-1?"/PeopleSearch?name="+this.query:i.id===-2?"/QueryBuilder/Main":i.id===-3?"/OrgSearch":(i.isOrg?"/Organization/Index/":"/Person/Index/")+i.id,""},source:function(t,i){if(t==="---"){data=[{order:"001",id:-1,line1:"People Search"},{order:"002",id:-2,line1:"Advanced Search"},{order:"003",id:-3,line1:"Organization Search"}],n={};var r=data.map(function(t){return n[t.order]=t,t.order});return i(r)}return $.ajax({url:"/Home/Names2",type:"post",data:{query:t},dataType:"json",success:function(t){n={};var r=t.map(function(t){return n[t.order]=t,t.order});return i(r)}})}}),t=$(this).data("typeahead");t.render=function(t){var i=this;return t=$(t).map(function(t,r){var u=[],f=n[r];return t=$(i.options.item).attr("data-value",r),f.id===0?u.push($("<li/>").addClass("divider")[0]):(t.find("a").html(i.highlighter(r)),u.push(t[0])),u}),t.first().addClass("active"),this.$menu.html(t),this},t.next=function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=$(this.$menu.find("li")[0])),n.hasClass("divider")&&(n=n.next()),n.addClass("active")},t.prev=function(){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.hasClass("divider")&&(n=n.prev()),n.addClass("active")},$(this).focus(function(){(this.value===""||this.value===$(this).attr("default"))&&(this.value="",t.source("---",$.proxy(t.process,t)))}),$(this).blur(function(){this.value===""&&$(this).attr("default")&&(this.value=$(this).attr("default"))})}),$("a.tutorial").click(function(n){n.preventDefault(),startTutorial($(this).attr("href"))}),$("#cleartag").click(function(n){n.preventDefault(),confirm("are you sure you want to empty the active tag?")&&$.post("/Tags/ClearTag",{},function(){window.location.reload()})}),$(".warntip").tooltip({delay:150,showBody:"|",showURL:!1}),$.QueryString=function(n,t){var i={};return $.each(n.split("&"),function(){var n=this.split("=");i[n[0]]=n[1]}),i[t]},$.block=function(n){n||(n="<h1>working on it...<\/h1>"),$.blockUI({message:n,overlayCSS:{opacity:0},css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}})},$.unblock=function(){$.unblockUI()},$.navigate=function(n,t){n+=(n.match(/\?/)?"&":"?")+t,window.location=n},$.DateValid=function(n,t){var r=/^(0?[1-9]|1[012])[\/-](0?[1-9]|[12][0-9]|3[01])[\/-]((19|20)?[0-9]{2})$/i,i;return $.dtoptions.format.startsWith("d")&&(r=/^(0?[1-9]|[12][0-9]|3[01])[\/-](0?[1-9]|1[012])[\/-]((19|20)?[0-9]{2})$/i),i=!0,r.test(n)||(t==!0&&$.growlUI("error","enter valid date"),i=!1),i},jQuery.fn.center=function(n){return n=n?this.parent():window,this.css({position:"absolute",top:($(n).height()-this.outerHeight())/2+$(n).scrollTop()+"px",left:($(n).width()-this.outerWidth())/2+$(n).scrollLeft()+"px"}),this},$.fn.alert=function(n){this.html('<div class="alert"><a class="close" data-dismiss="alert">×<\/a><span>'+n+"<\/span><\/div>")}}),String.prototype.startsWith=function(n){return n==this.substring(0,n.length)},String.prototype.appendQuery=function(n){return this&&this.length>0?this.contains("&")||this.contains("?")?this+"&"+n:this+"?"+n:n},String.prototype.contains=function(n){return this.indexOf(n)!=-1},String.prototype.endsWith=function(n){return n==this.substring(this.length-n.length)},String.prototype.addCommas=function(){for(var t=this.split("."),n=t[0],r=t.length>1?"."+t[1]:"",i=/(\d+)(\d{3})/;i.test(n);)n=n.replace(i,"$1,$2");return n+r},$(function(){$.AttachFormElements=function(){$("form.ajax input.ajax-typeahead").typeahead({minLength:3,source:function(n,t){return $.ajax({url:$(this.$element[0]).data("link"),type:"post",data:{query:n},dataType:"json",success:function(n){return typeof n=="undefined"?!1:t(n)}})}}),$("form.ajax .date").datepicker(),$("form.ajax select").chosen()},$("div.modal form.ajax").live("submit",function(n){n.preventDefault();var t=$(this),i=t.closest("div.modal");return $.ajax({type:"POST",url:t.attr("action"),data:t.serialize(),success:function(n){i.html(n).ready(function(){var n=($(window).height()-i.height())/2;n<10&&(n=10),i.css({"margin-top":n,top:"0"}),$.AttachFormElements()})}}),!1}),$("form.ajax a.ajax").live("click",function(n){n.preventDefault();var r=$(this),i=r.closest("form.ajax"),t=i.closest("div.modal"),u=r[0].href,f=i.serialize();return $.ajax({type:"POST",url:u,data:f,success:function(n){t.length>0?t.html(n).ready(function(){var n=($(window).height()-t.height())/2;n<10&&(n=10),t.css({"margin-top":n,top:"0"}),$.AttachFormElements()}):i.html(n).ready(function(){$.AttachFormElements()})},error:function(n,t,i){alert(n.status),alert(i)}}),!1}),$.ajaxSetup({beforeSend:function(){$("#loading-indicator").css({position:"absolute",left:$(window).width()/2,top:$(window).height()/2,"z-index":2e3}).show()},complete:function(){$("#loading-indicator").hide()}})}),$(function(){$("a.searchadd").live("click",function(n){n.preventDefault(),$("<div id='search-add' class='modal fade hide' data-width='600' data-keyboard='false' data-backdrop='static' />").load($(this).attr("href"),{},function(){$(this).modal("show");$(this).on("hidden",function(){$(this).remove()})})}),$("#search-add a.clear").live("click",function(n){return n.preventDefault(),$("#name").val(""),$("#phone").val(""),$("#address").val(""),$("#dob").val(""),!1}),$("form.ajax tbody > tr a.reveal").live("click",function(n){n.stopPropagation()}),$.NotReveal=function(n){return $(n.target).is("a")&&!$(n.target).is(".reveal")?!0:!1},$("form.ajax tr.section.notshown").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),n.stopPropagation(),$(this).removeClass("notshown").addClass("shown"),$(this).nextUntil("tr.section").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("show"))}),$("form.ajax tr.section.shown").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),$(this).nextUntil("tr.section").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("hide"),$(this).removeClass("shown").addClass("notshown"))}),$('form.ajax a[rel="reveal"]').live("click",function(n){n.preventDefault(),$(this).parents("tr").next("tr").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("toggle")}),$("form.ajax tr.master").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),$(this).next("tr").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("toggle"))}),$("form.ajax tr.details").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),n.stopPropagation(),$(this).find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("hide"))})});
//@ sourceMappingURL=main2.custom.min.js.map