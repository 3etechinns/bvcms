function dimOff(){$("#darkLayer").hide()}function dimOn(){$("#darkLayer").show()}$(function(){$("body").on("click","input[name='toggletarget']",function(){$('a.target[target="people"]').length==0?($("a.target").attr("target","people"),$("input[name='toggletarget']").attr("checked",!0)):($("a.target").removeAttr("target"),$("input[name='toggletarget']").removeAttr("checked"))})}),$(document).ready(function(){$(document).on("click","a.dialog-options",function(n){n.preventDefault();var t=$($(this).data("target"));return t.attr("action",$(this).attr("href")),t.modal("show"),$(t).validate({submitHandler:function(n){if($(n).modal("hide"),n.method.toUpperCase()==="GET")$(n).attr("target","_blank"),n.submit(),$(n).removeAttr("target");else{var t=$(n).serialize();$.post(n.action,t,function(){})}},highlight:function(n){$(n).closest(".control-group").addClass("error")},unhighlight:function(n){$(n).closest(".control-group").removeClass("error")}}),!1});$("#UnTagAll").live("click",function(n){return n.preventDefault(),$("div.dropdown-menu").hide(),$.block(),$.post(this.href,null,function(n){$(".taguntag:visible").text(n),$.unblock()}),!1});$(document).on("click","#AddContact",function(n){return n.preventDefault(),bootbox.confirm("Are you sure you want to add a contact for all these people?",function(n){n===!0&&($.block(),$.post(this.href,null,function(n){$.unblock(),n<0?$.growlUI("error","too many people to add to a contact (max 100)"):n==0?$.growlUI("error","no results"):window.location=n}))}),!1});$(document).on("click","#AddTasks",function(n){n.preventDefault();var t="Are you sure you want to add a task for all these people?";return window.location.pathname.contains("/Person")&&(t="Are you sure you want to add a task for this person?"),bootbox.confirm(t,function(n){n===!0&&($.block(),$.post(this.href,null,function(n){$.unblock(),n<0?$.growlUI("error","too many people to add tasks for (max 100)"):n==0?$.growlUI("error","no results"):window.location="/Task"}))}),!1});$.QueryString=function(n,t){var i={};return $.each(n.split("&"),function(){var n=this.split("=");i[n[0]]=n[1]}),i[t]},$.block=function(n){n||(n="<h1>working on it...<\/h1>"),$.blockUI({message:n,overlayCSS:{opacity:0},css:{border:"3px",padding:"15px",backgroundColor:"#aaa","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.9,color:"#000",width:"500px"}})},$.unblock=function(){$.unblockUI()},$.navigate=function(n,t){n+=(n.match(/\?/)?"&":"?")+t,window.location=n},$.DateValid=function(n,t){var r=/^(0?[1-9]|1[012])[\/-](0?[1-9]|[12][0-9]|3[01])[\/-]((19|20)?[0-9]{2})$/i,i;return $.dateFormat.startsWith("d")&&(r=/^(0?[1-9]|[12][0-9]|3[01])[\/-](0?[1-9]|1[012])[\/-]((19|20)?[0-9]{2})$/i),i=!0,r.test(n)||(t==!0&&$.growlUI("error","enter valid date"),i=!1),i},$.SortableDate=function(n){var t;return t=$.dateFormat.startsWith("d")?new Date(n.split("/")[2],n.split("/")[1]-1,n.split("/")[0]):new Date(n.split("/")[2],n.split("/")[0]-1,n.split("/")[1]),t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},jQuery.fn.center=function(n){return n=n?this.parent():window,this.css({position:"absolute",top:($(n).height()-this.outerHeight())/2+$(n).scrollTop()+"px",left:($(n).width()-this.outerWidth())/2+$(n).scrollLeft()+"px"}),this}}),$(function(){$("#SearchText").each(function(){var n,i=$(this).typeahead({minLength:3,items:15,highlighter:function(t){var i=n[t],r="<a>"+(i.isOrg?"Org: ":"")+i.line1;return i.id>0&&(r+="<br>"+(i.isOrg?"Div: ":"")+i.line2),r+="<\/a>",$("<div>").append(r)},sorter:function(n){return n},matcher:function(){return!0},updater:function(t){var i=n[t];return window.location=i.id===-1?"/PeopleSearch?name="+this.query:i.id===-2?"/Query/":i.id===-3?"/SavedQuery2":i.id===-4?"/OrgSearch":(i.isOrg?"/Organization/Index/":"/Person2/")+i.id,""},source:function(t,i){if(t==="---"){data=[{order:"001",id:-1,line1:"Find Person"},{order:"002",id:-2,line1:"Advanced Search Builder"},{order:"003",id:-3,line1:"Saved Searches"},{order:"004",id:-4,line1:"Organization Search"}],n={};var r=data.map(function(t){return n[t.order]=t,t.order});return i(r)}return $.ajax({url:"/Home/Names2",type:"post",data:{query:t},dataType:"json",success:function(t){n={};var r=t.map(function(t){return n[t.order]=t,t.order});return i(r)}})}}),t=$(this).data("typeahead");t.show=function(){var n=$.extend({},this.$element.position(),{height:this.$element[0].offsetHeight,width:this.$element[0].offsetWidth});return this.$menu.insertAfter(this.$element).css({width:300,top:n.top+n.height+11,left:n.left-200+n.width}).show(),this.shown=!0,this},t.render=function(t){var i=this;return t=$(t).map(function(t,r){var u=[],f=n[r];return t=$(i.options.item).attr("data-value",r),f.id===0?u.push($("<li/>").addClass("divider")[0]):(t.find("a").html(i.highlighter(r)),u.push(t[0])),u}),t.first().addClass("active"),this.$menu.html(t),this},t.next=function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=$(this.$menu.find("li")[0])),n.hasClass("divider")&&(n=n.next()),n.addClass("active")},t.prev=function(){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last()),n.hasClass("divider")&&(n=n.prev()),n.addClass("active")},$(this).focus(function(){(this.value===""||this.value===$(this).attr("placeholder"))&&(this.value="",t.source("---",$.proxy(t.process,t)))}),$(this).blur(function(){$(this).attr("placeholder")&&(this.value=$(this).attr("placeholder"))})}),$("a.tutorial").click(function(n){n.preventDefault(),startTutorial($(this).attr("href"))}),$("#cleartag").click(function(n){n.preventDefault(),confirm("are you sure you want to empty the active tag?")&&$.post("/Tags/ClearTag",{},function(){window.location.reload()})}),$(".warntip").tooltip({delay:150,showBody:"|",showURL:!1}),$.QueryString=function(n,t){var i={};return $.each(n.split("&"),function(){var n=this.split("=");i[n[0]]=n[1]}),i[t]},$.block=function(n){n||(n="<h1>working on it...<\/h1>"),$.blockUI({message:n,overlayCSS:{opacity:0},css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}})},$.unblock=function(){$.unblockUI()},$.navigate=function(n,t){n+=(n.match(/\?/)?"&":"?")+t,window.location=n},$.DateValid=function(n,t){var r=/^(0?[1-9]|1[012])[\/-](0?[1-9]|[12][0-9]|3[01])[\/-]((19|20)?[0-9]{2})$/i,i;return $.dtoptions.format.startsWith("d")&&(r=/^(0?[1-9]|[12][0-9]|3[01])[\/-](0?[1-9]|1[012])[\/-]((19|20)?[0-9]{2})$/i),i=!0,r.test(n)||(t==!0&&$.growlUI("error","enter valid date"),i=!1),i},jQuery.fn.center=function(n){return n=n?this.parent():window,this.css({position:"absolute",top:($(n).height()-this.outerHeight())/2+$(n).scrollTop()+"px",left:($(n).width()-this.outerWidth())/2+$(n).scrollLeft()+"px"}),this},$.fn.alert=function(n){this.html('<div class="alert"><a class="close" data-dismiss="alert">×<\/a><span>'+n+"<\/span><\/div>")}}),String.prototype.startsWith=function(n){return n==this.substring(0,n.length)},String.prototype.appendQuery=function(n){return this&&this.length>0?this.contains("&")||this.contains("?")?this+"&"+n:this+"?"+n:n},String.prototype.contains=function(n){return this.indexOf(n)!=-1},String.prototype.endsWith=function(n){return n==this.substring(this.length-n.length)},String.prototype.addCommas=function(){for(var t=this.split("."),n=t[0],r=t.length>1?"."+t[1]:"",i=/(\d+)(\d{3})/;i.test(n);)n=n.replace(i,"$1,$2");return n+r},$(function(){$.AttachFormElements=function(){$("form.ajax input.ajax-typeahead").typeahead({minLength:3,source:function(n,t){return $.ajax({url:$(this.$element[0]).data("link"),type:"post",data:{query:n},dataType:"json",success:function(n){return typeof n=="undefined"?!1:t(n)}})}}),$("form.ajax .date:not(.noparse)").datepicker({autoclose:!0,orientation:"auto"}),$("form.ajax .date.noparse").datepicker({autoclose:!0,orientation:"auto",forceParse:!1}),$("form.ajax select:not([plain])").chosen()},$("ul.nav-tabs a.ajax").live("click",function(){var t=$(this).attr("href"),n=$(t);return n.hasClass("loaded")||$.ajax({type:"POST",url:n.data("link"),data:{},success:function(t){n.html(t),n.addClass("loaded")}}),!0});$("div.tab-pane").on("click","a.ajax-refresh",function(){var n=$(this).closest("div.tab-pane");return $.ajax({type:"POST",url:n.data("link"),data:{},success:function(t){n.html(t),n.addClass("loaded")}}),!1});$("form.ajax a.ajax").live("click",function(n){var u;n.preventDefault();var i=$(this),t=i.closest("form.ajax"),r=i.data("link");return typeof r=="undefined"&&(r=i[0].href),u=t.serialize(),(!i.hasClass("validate")||t.valid())&&$.ajax({type:"POST",url:r,data:u,success:function(n){t.hasClass("modal")?t.html(n).ready(function(){t.removeClass("hide");var n=($(window).height()-t.height())/2;n<10&&(n=10),t.css({"margin-top":n,top:"0"}),$.AttachFormElements()}):t.html(n).ready(function(){$.AttachFormElements()})},error:function(n,t,i){alert(n.status),alert(i)}}),!1}),$.validator.addMethod("unallowedcode",function(n,t,i){return n!==i.code},"required, select item"),$.ajaxSetup({beforeSend:function(){$("#loading-indicator").css({position:"absolute",left:$(window).width()/2,top:$(window).height()/2,"z-index":2e3}).show()},complete:function(){$("#loading-indicator").hide()}})}),$(function(){$("a.searchadd").live("click",function(n){n.preventDefault(),$("#search-add").load($(this).attr("href"),{},function(){$(this).modal("show");$(this).on("hidden",function(){$(this).empty()});$.AttachFormElements(),$(this).validate({highlight:function(n){$(n).closest(".control-group").addClass("error")},unhighlight:function(n){$(n).closest(".control-group").removeClass("error")}})})}),$("#search-add a.clear").live("click",function(n){return n.preventDefault(),$("#name").val(""),$("#phone").val(""),$("#address").val(""),$("#dob").val(""),!1}),$("form.ajax tbody > tr a.reveal").live("click",function(n){n.stopPropagation()}),$.NotReveal=function(n){return $(n.target).is("a")&&!$(n.target).is(".reveal")?!0:!1},$("form.ajax tr.section").live("click",function(t){$.NotReveal(t)||(t.preventDefault(),n($(this)))}),$('form.ajax a[rel="reveal"]').live("click",function(t){t.preventDefault(),n($(this).parents("tr"))});var n=function(n){n.hasClass("notshown")?t(n):n.hasClass("shown")?i(n):n.next("tr").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("toggle")},t=function(n){n.nextUntil("tr.section").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("show"),n.removeClass("notshown").addClass("shown"),n.find("i").removeClass("icon-caret-right").addClass("icon-caret-down")},i=function(n){n.nextUntil("tr.section").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("hide"),n.removeClass("shown").addClass("notshown"),n.find("i").removeClass("icon-caret-down").addClass("icon-caret-right")};$("form.ajax tr.master").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),$(this).next("tr").find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("toggle"))}),$("form.ajax tr.details").live("click",function(n){$.NotReveal(n)||(n.preventDefault(),n.stopPropagation(),$(this).find("div.collapse").off("hidden").on("hidden",function(n){n.stopPropagation()}).collapse("hide"))})}),function(n){function c(i,r){var e=f(i),h=f(n(r.of)),c=s(r.my),p=s(r.at),w=y(r.offset),u;t("my",c),t("at",p),t("myDims",e),t("targetDims",h),u=o(h);switch(p.h){case"center":u.left+=h.width/2;break;case"right":u.left+=h.width}switch(p.v){case"center":u.top+=h.height/2;break;case"bottom":u.top+=h.height}switch(c.h){case"center":u.left-=e.width/2;break;case"right":u.left-=e.width}switch(c.v){case"center":u.top-=e.height/2;break;case"bottom":u.top-=e.height}u.top+=w.v,u.left+=w.h,u=v(i,u,e,c,p,r),e.position=="relative"&&(u=a(i,u,e)),r.using?r.using(u,i):l(i,u)}function l(n,t){n.css("left",t.left+"px").css("top",t.top+"px")}function a(n,i,r){return t("to coordinates",i),t("dims",r),i.top-=r.offsetTop-r.top,i.left-=r.offsetLeft-r.left,t("transformed coordinates",i),i}function v(r,u,o,s,h,c){var l,a,v;return c.collision.match(/flip|fit/g)&&(i("CHECK COLLISION!",c.collision),l={h:"none",v:"none"},a=c.collision.split(" "),a.length==1?(l.h=a[0],l.v=a[0]):a.length>1&&(l.h=a[0],l.v=a[1]),v=null,v=c.viewport?f(n(c.viewport)):{position:"absolute",top:0,left:0,offsetTop:0,offsetLeft:0,width:n(window).width(),height:n(window).height(),innerWidth:n(window).width(),innerHeight:n(window).height()},t("viewport",v),u=e(l.h,"h",r,u,o,v,s,h),u=e(l.v,"v",r,u,o,v,s,h)),u}function e(n,t,i,r,u,f,e){if(n!="none"){var s=o(f);t=="h"?r.left<s.left?n=="fit"?r.left=s.left:n=="flip"&&e.h=="right"&&r.left+u.width>=s.left&&(r.left+=u.width):r.left+u.width>s.left+f.innerWidth&&(n=="fit"?r.left-=r.left+u.width-(s.left+f.innerWidth):n=="flip"&&e.h=="left"&&r.left<=s.left+f.innerWidth&&(r.left-=u.width)):t=="v"&&(r.top<s.top?n=="fit"?r.top=s.top:n=="flip"&&e.v=="bottom"&&r.top+u.height>=s.top&&(r.top+=u.height):r.top+u.height>s.top+f.innerHeight&&(n=="fit"?r.top-=r.top+u.height-(s.top+f.innerHeight):n=="flip"&&e.v=="top"&&r.top<=s.top+f.innerHeight&&(r.top-=u.height)))}return r}function o(n){var t={top:n.offsetTop,left:n.offsetLeft};return(n.position=="absolute"||n.position=="fixed")&&(n.top&&(t.top=n.top),n.left&&(t.left=n.left)),t}function y(n){var i={h:0,v:0},t;return n&&(t=n.split(" "),t.length>0&&(i.h=Number(t[0])),t.length>1&&(i.v=Number(t[1]))),i}function s(n){var t={h:"center",v:"center"},i;return n&&(i=n.split(" "),i.length>0&&(t=h(i[0],t)),i.length>1&&(t=h(i[1],t))),t}function h(n,t){switch(n){case"top":t.v="top";break;case"bottom":t.v="bottom";break;case"left":t.h="left";break;case"right":t.h="right"}return t}function u(t){var i=n(t).offset();return{position:n(t).css("position"),top:Number(n(t).css("top").replace(/[^\d\.-]/g,"")),left:Number(n(t).css("left").replace(/[^\d\.-]/g,"")),offsetTop:i.top,offsetLeft:i.left,width:n(t).outerWidth(),height:n(t).outerHeight(),innerWidth:n(t).innerWidth(),innerHeight:n(t).innerHeight()}}function f(t){for(var e=null,h=0,f,r,o,s;f=t[h++];)r=n(f).parents().andSelf().filter(":hidden"),r.length?(i("hidden"),o=[],r.each(function(){var t=n(this).attr("style");t=typeof t=="undefined"?"":t,i("style",t),o.push(t),n(this).attr("style",t+" ; display: block !important;"),i("style",n(this).attr("style"))}),s=r.eq(0).css("left"),i("left",s),r.eq(0).css("left",-1e4),e=u(f),r.eq(0).css("top",-1e4).css("left",s),e.offsetLeft=u(f).offsetLeft,e.left=u(f).left,r.each(function(){n(this).attr("style",o.shift())})):e=u(f);return e}function i(n,t){try{r&&window.console&&window.console.log&&window.console.log(n+": "+t)}catch(i){}}function t(t,u){try{u||(u=t),i(t,u),r&&window.console&&window.console.log&&(n.browser.msie||n.browser.opera)?window.console.log(n.param(u)):r&&window.console&&window.console.debug&&window.console.debug(u)}catch(f){}}var r=!1;n.fn.hiddenPosition=function(t){var i=n.extend({},n.fn.hiddenPosition.defaults,t);return this.each(function(){var t=n(this),r=n.metadata?n.extend({},i,t.metadata()):i;c(t,r)})},n.fn.hiddenPosition.defaults={my:"center",at:"center",of:null,offset:null,using:null,collision:"flip",viewport:null},n.fn.hiddenPosition.getHiddenDimensions=function(n){return f(n)},n.fn.hiddenPosition.toggleDebug=function(){r=!r}}(jQuery);
//@ sourceMappingURL=main2.custom.min.js.map