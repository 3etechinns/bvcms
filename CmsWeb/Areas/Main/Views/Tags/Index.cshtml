@using CmsWeb.Models
@model TagsModel
@{
    ViewBag.Title = "Tags";
    ViewBag.PageHeader = "Manage Tags";
    Layout = ViewExtensions2.TouchPointLayout();
}
<form id="managetags" method="post" action="/Tags">
    <div class="box box-responsive">
        <div class="box-content">
            @Html.Partial("Toolbar/Toolbar.touch")
            <div class="well">
                <div class="row">
                    <div class="col-sm-12">
                        <label for="tag">Active Tag</label>
                        <div class="form-inline">
                            <div class="input-group col-xs-12 col-sm-6 col-md-5 col-lg-4">
                                @Html.Partial("Tags") 
                            </div>
                            <div class="input-group hidden-xs">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
                                        Actions <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="makenew" href="#"><i class="fa fa-plus-circle"></i>&nbsp;&nbsp;Create Tag</a></li>
                                        <li><a class="rename" href="#"><i class="fa fa-pencil"></i>&nbsp;&nbsp;Rename Tag</a> </li>
                                        <li><a class="delete" href="/Tags/Delete" confirm="are you sure?"><i class="fa fa-trash"></i>&nbsp;&nbsp;Delete Tag</a> </li>
                                        <li class="divider"></li>
                                        <li><a class="refresh" href="/Tags/Results"><i class="fa fa-refresh"></i>&nbsp;&nbsp;Refresh</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <br/>
                        <a class="ShareLink hidden-xs btn btn-default" href="/Tags/SharedTags" data-target="#usersDialog"><i class="fa fa-users"></i> Shared with <span class="sharecount">@Model.SharedCount()</span> users</a>
                        <div class="visible-xs-block">
                            <div class="btn-group btn-block">
                                <button type="button" class="btn btn-primary btn-block dropdown-toggle" data-toggle="dropdown">
                                    Actions <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu btn-block">
                                    <li><a class="makenew" href="#"><i class="fa fa-plus-circle"></i>&nbsp;&nbsp;Create Tag</a></li>
                                    <li><a class="rename" href="#"><i class="fa fa-pencil"></i>&nbsp;&nbsp;Rename Tag</a> </li>
                                    <li><a class="delete" href="/Tags/Delete" confirm="are you sure?"><i class="fa fa-trash"></i>&nbsp;&nbsp;Delete Tag</a> </li>
                                    <li class="divider"></li>
                                    <li><a class="refresh" href="/Tags/Results"><i class="fa fa-refresh"></i>&nbsp;&nbsp;Refresh</a></li>
                                </ul>
                            </div>
                            <a class="ShareLink btn btn-default btn-block" href="/Tags/SharedTags" data-target="#usersDialog"><i class="fa fa-users"></i> Shared with <span class="sharecount">@Model.SharedCount()</span> users</a>
                        </div>
                    </div>
                </div>
            </div>
            @Html.Partial("Results", Model)
        </div>
    </div>
</form>
<div class="modal fade" id="new-modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="new-tag-form">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Create New Tag</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="tagname">Tag Name</label>
                        @Html.TextBox("tagname", "", new { title = "no colon characters", @class = "form-control" })
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="button" value="Cancel" class="btn btn-default" data-dismiss="modal" />
                    <input type="button" value="Submit" class="btn btn-primary" id="new-tag" />
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="rename-modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="rename-tag-form">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Rename Tag</h4>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="renamedTag">Tag Name</label>
                        @Html.TextBox("renamedTag", "", new { title = "no colon characters", @class = "form-control" })
                    </div>
                </div>
                <div class="modal-footer">
                    <input type="button" value="Cancel" class="btn btn-default" data-dismiss="modal" />
                    <input type="button" value="Submit" class="btn btn-primary" id="rename-tag" />
                </div>
            </form>
        </div>
    </div>
</div>
@section scripts
{
    @Fingerprint.Script("/Content/touchpoint/js/dialog/search-users.js")
    @Fingerprint.Script("/Content/touchpoint/js/tags.js")
}