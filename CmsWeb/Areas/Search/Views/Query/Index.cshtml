@using CmsWeb
@model CmsWeb.Areas.Search.Models.QueryModel2
@{
    Layout = "~/Views/Shared/SiteLayout2.cshtml";
    ViewBag.Title = "Search Builder";
}
@section head 
{
    @Fingerprint.Css("/Content/css/bootstrap-multiselect.css")
    @Fingerprint.Css("/Content/css/search.css")
}
@section scripts
{
    @Fingerprint.Script("/Scripts/Bundle/Query2.js")
    @Fingerprint.Script("/Scripts/Bootstrap/bootstrap-multiselect.js")
    @Fingerprint.Script("/Scripts/jQuery/jquery.scrollintoview.js")
}

<div class="container">
    <div class="row-fluid">
        <div class="span4">
            <fieldset>
                <legend>Advanced Search Builder</legend>
                <div id="QueryMeta" class="table">
                    <div class="cell">
                        <a id="SavedQueryDesc" title="Enter Query Description">@Model.SavedQueryDesc</a>
                        <a id="SavedQueryDescEdit" href="#"><i class="icon-pencil"></i></a>
                    </div>
                    <div class="cell pad-left right">
                        <div><a href="/SavedQuery2" class="nowrap">Saved Queries</a></div>
                        <div class="pad-top"><a href="/Query/NewQuery" class="btn btn-success nowrap">New Search</a></div>
                    </div>
                </div>
            </fieldset>
            @Html.Partial("Conditions", Model)
        </div>
        <div id="results" class="span8">
        </div>
    </div>
</div>

@section PopupsPlaceholder
{
    <div id="editcondition" class="popover2">
        <h3 class="popover-title">Edit Condition</h3>
        <div class="popover-content">
        </div>
    </div>
    @Html.Partial("SelectCondition", Model)
    <div id="QueryConditionHelp" class='modal fade hide'>
        <div class="modal-header">
            <a class="close" data-dismiss="modal">x</a>
            <h4>&nbsp;</h4>
        </div>
        <div class="modal-body">
        </div>
    </div>
    <div id="OpenQueryDiv" title="Open Query" class="modalDiv" style="display: none">
        <select id="ExistingQueries"></select>
        <div style="text-align: right; vertical-align: bottom">
            <input id="OpenQuery" type="button" value="Open" />
        </div>
    </div>
    <div id="SaveQueryDiv" class="modalDiv" style="display: none">
        <div style="text-align: left">
            Search Description:
        @Html.TextBox("SaveQueryDesc")
            &nbsp;
        <input id="IsPublic" type="checkbox" />
            Is Public
        <span class="footer">
            <a id="SaveQuery" href="#">Save</a>
        </span>
            <br />
        </div>
    </div>
}

