@using CmsData.Codes
@using UtilityExtensions
@model CmsWeb.Areas.Finance.Models.BundleModel
<div class="row">
    <div class="col-md-4 col-lg-3 col-md-push-8 col-lg-push-9">
        <div class="panel">
            <div class="panel-heading">
                
            </div>
        </div>
    </div>
    <div class="col-md-8 col-lg-9 col-md-pull-4 col-lg-pull-3">
        <div class="box box-responsive">
            <div class="box-title-btn">
                <div class="box-tools">
                    <a class="btn btn-default" href="/Bundles"><i class="fa fa-arrow-circle-left"></i> Back to List</a>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            Actions <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-right">
                            @if (Model.IsAdmin || Model.IsOpen)
                            {
                                <li><a id="delete" href="/Bundle/Delete/@Model.BundleId"><i class="fa fa-trash"></i>&nbsp;&nbsp;Delete</a></li>
                            }
                            @if (Model.CanEdit)
                            {
                                <li><a id="editbundle" href="/Bundle/Edit/@Model.BundleId"><i class="fa fa-pencil"></i>&nbsp;&nbsp;Edit</a></li>
                            }
                            @if (Model.IsOpen)
                            {
                                <li><a href="/PostBundle/@Model.BundleId"><i class="fa fa-pencil-square-o"></i>&nbsp;&nbsp;Post Bundle / Edit</a></li>
                            }
                            @if (Model.IsOpen || Model.IsAdmin || Model.CanEdit)
                            {
                                <li class="divider"></li>
                            }
                            <li><a href="/Bundles/NewBundle/"><i class="fa fa-plus-circle"></i>&nbsp;&nbsp;Create New Bundle</a></li>
                        </ul>
                    </div>

                </div>
            </div>
            <div class="box-content">
                <form id="bundleform" class="well">
                    <table id="bundle" cellspacing="5">
                        <tr>
                            <th></th>
                        </tr>
                        <tr>
                            <th>Bundle Status</th>
                            <td>@Model.Status</td>
                        </tr>
                        <tr>
                            <th>Contribution Date</th>
                            <td>@Model.Bundle.ContributionDate.ToShortDateString()</td>
                        </tr>
                        <tr>
                            <th>Bundle Type</th>
                            <td>@Model.Type</td>
                        </tr>
                        <tr>
                            <th>Deposit Date</th>
                            <td>@Model.Bundle.DepositDate.FormatDate()</td>
                        </tr>
                        <tr>
                            <th>Total Cash</th>
                            <td>@Model.Bundle.TotalCash.ToString2("n2")</td>
                        </tr>
                        <tr>
                            <th>Total Checks</th>
                            <td>@Model.Bundle.TotalChecks.ToString2("n2")</td>
                        </tr>
                        <tr>
                            <th>Total Coin</th>
                            <td>@Model.Bundle.TotalEnvelopes.ToString2("n2")</td>
                        </tr>
                        <tr>
                            <th>Default Fund</th>
                            <td><a href="/PostBundle/FundTotals/@Model.BundleId">@Model.DefaultFund</a></td>
                        </tr>
                        <tr>
                            <th>Total Header</th>
                            <td>@Model.TotalHeader().ToString("c")</td>
                        </tr>
                        <tr>
                            <th>Total Items</th>
                            <td>@Model.TotalItems().ToString("c")</td>
                        </tr>

                    </table>
                </form>
                <div class="stat-panel-container">
                    <div class="stat-panel-inner-container">
                        <div class="stat-panel">
                            <span class="stat-title">TOTAL</span>
                            <span class="stat-figure">@Model.TotalHeader().ToString("c")</span>
                        </div>
                        <div class="stat-panel">
                            <span class="stat-title">TOTAL ITEMS</span>
                            <span class="stat-figure">@Model.TotalItems().ToString("c")</span>
                        </div>
                        <div class="stat-panel">
                            <span class="stat-title">ITEM COUNT</span>
                            <span class="stat-figure">@Model.Count().ToString("N0")</span>
                        </div>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <form id="results">
                    @Html.Partial("Results", Model)
                </form>
            </div>
        </div>
    </div>
</div>