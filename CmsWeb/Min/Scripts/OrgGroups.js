$(function(){$.fmtTable=function(){$("table.grid td.tip").tooltip({showBody:"|"}),$("table.grid > tbody > tr:even").addClass("alt"),$(".bt").button()},$.fmtTable(),$(".helptip").tooltip({showBody:"|"}),$.loadTable=function(){$.blockUI(),$.getTable($("#groupsform")),$.unblockUI()},$("#filter").live("click",function(n){n.preventDefault(),$.loadTable()}),$("a.sortable").live("click",function(n){n.preventDefault(),$("#sort").val($(this).text()),$.loadTable()}),$("#groupsform").delegate("#memtype","change",$.loadTable),$("#SelectAll").click(function(){$(this).attr("checked")?$("table.grid input[name='list']").attr("checked",!0):$("table.grid input[name='list']").removeAttr("checked")}),$("#ingroup, #notgroup").keypress(function(n){n.keyCode=="13"&&(n.preventDefault(),$.loadTable())}),$("#groupsform").delegate("#groupid","change",$.loadTable),$.getTable=function(n){var t=n.serialize();return $.post("/OrgGroups/Filter",t,function(n){$("table.grid > tbody").html(n).ready($.fmtTable)}),!1},$(".datepicker").datepicker(),$("#SelectAll").live("click",function(){$("input[name='list']").attr("checked",$(this).attr("checked"))}),$("a.display").live("click",function(n){n.preventDefault();var t=$(this).closest("form");return $.post(this.href,q,function(n){$(t).html(n).ready(function(){return $.fmtTable(),!1})}),!1}),$("a.groupmanager").live("click",function(n){if(n.preventDefault(),confirm("are you sure?")){var t=$(this).closest("form"),i=t.serialize();$.blockUI(),$.post($(this).attr("href"),i,function(n){n.substring(0,5)!="error"&&t.html(n).ready(function(){$("#newgid").val()&&$("#groupid").val($("#newgid").val()),$("#GroupName").val(""),$.fmtTable()}),$.unblockUI()})}}),$("form").submit(function(n){return n.preventDefault(),!1}),$.performAction=function(n){if($("#groupid").val()<=0)return $.growlUI("error","select target group first"),!1;$.blockUI();var t=$("form").serialize();return $.post(n,t,function(n){$("table.grid > tbody").html(n).ready($.fmtTable),$.unblockUI()}),!1},$("#AssignSelectedToTargetGroup").live("click",function(){$.performAction("/OrgGroups/AssignSelectedToTargetGroup")}),$("#RemoveSelectedFromTargetGroup").live("click",function(){$.performAction("/OrgGroups/RemoveSelectedFromTargetGroup")});var n=null;$("input[name = 'list']").live("click",function(t){if(!n){n=this;return}if(t.shiftKey){var i=$("input[name = 'list']").index(this),r=$("input[name = 'list']").index(n);$("input[name = 'list']").slice(Math.min(i,r),Math.max(i,r)+1).attr("checked",n.checked)}n=this})})