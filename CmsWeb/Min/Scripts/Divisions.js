$(function(){$.editableOptions={indicator:"<img src='/images/loading.gif'>",tooltip:"Click to edit...",style:"display: inline",onblur:"submit",width:"200px",height:25},$("#create").click(function(n){n.preventDefault();var i=$("#progform"),t=i.serialize();return $.post("/Setup/Division/Create/",t,function(n){$("#results > tbody").append(n),$.fmtTable()}),!1}),$.editable.addInputType("checkbox",{element:function(){var i=$('<input type="checkbox">');return $(this).append(i),$(i).click(function(){var n=$(i).attr("checked")?"yes":"no";$(i).val(n)}),i},content:function(n){var f=n=="yes"?1:0,r=$(":input:first",this),u;$(r).attr("checked",f),u=$(r).attr("checked")?"yes":"no",$(r).val(u)}}),$("span.clickEdit").bind("keydown",function(n){if(n.keyCode==9){$(this).find("input").blur();var t=$(".clickEdit").index(this);return $(".clickEdit:eq("+(t+2)+")").click(),!1}}),$("a.taguntag").live("click",function(n){n.preventDefault();var i=$("#progform"),r=i.serialize(),t=$(this);return $.post(t.attr("href"),r,function(n){var i=t.closest("tr");i.replaceWith(n),$.fmtTable()}),!1}),$("a.mainprog").live("click",function(n){n.preventDefault();var i=$("#progform"),r=i.serialize(),t=$(this);return $.post(t.attr("href"),r,function(n){var i=t.closest("tr");i.replaceWith(n),$.fmtTable()}),!1}),$("a.delete").live("click",function(n){return n.preventDefault(),confirm("are you sure?")&&$.post("/Setup/Division/Delete/"+$(this).attr("id"),null,function(){window.location="/Setup/Division/"}),!1}),$("#refresh").click(function(n){n.preventDefault(),$.getTable()}),$("#TagProgramId").change(function(){$.getTable()}),$("#ProgramId").change(function(){$.getTable()}),$.getTable=function(){var t=$("#progform"),n=t.serialize();return $.blockUI(),$.post("/Setup/Division/Results",n,function(n){$("#results").replaceWith(n).ready(function(){$.fmtTable(),$.unblockUI()})}),!1},$.fmtTable=function(){$("#results td.tip").tooltip({showBody:"|"}),$("#results tbody tr:even").attr("style","background-color:#ddd"),$("span.clickEdit").editable("/Setup/Division/Edit/",$.editableOptions),$("span.yesno").editable("/Setup/Division/Edit",{type:"checkbox",onblur:"ignore",submit:"OK"})},$.fmtTable()})