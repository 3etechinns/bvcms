(function(n){function r(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},n.extend(this._defaults,this.regional[""])}if(n.ui.timepicker=n.ui.timepicker||{},!n.ui.timepicker.version){n.extend(n.ui,{timepicker:{version:"1.1.1"}}),n.extend(r.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(n){return u(this._defaults,n||{}),this},_newInst:function(t,i){var u=new r,c={},l={},e,o,f,s,h;for(f in this._defaults)if(this._defaults.hasOwnProperty(f)&&(s=t.attr("time:"+f),s))try{c[f]=eval(s)}catch(a){c[f]=s}e={beforeShow:function(i,r){if(n.isFunction(u._defaults.evnts.beforeShow))return u._defaults.evnts.beforeShow.call(t[0],i,r,u)},onChangeMonthYear:function(i,r,f){u._updateDateTime(f),n.isFunction(u._defaults.evnts.onChangeMonthYear)&&u._defaults.evnts.onChangeMonthYear.call(t[0],i,r,f,u)},onClose:function(i,r){u.timeDefined===!0&&t.val()!==""&&u._updateDateTime(r),n.isFunction(u._defaults.evnts.onClose)&&u._defaults.evnts.onClose.call(t[0],i,r,u)}};for(o in e)e.hasOwnProperty(o)&&(l[o]=i[o]||null);return u._defaults=n.extend({},this._defaults,c,i,e,{evnts:l,timepicker:u}),u.amNames=n.map(u._defaults.amNames,function(n){return n.toUpperCase()}),u.pmNames=n.map(u._defaults.pmNames,function(n){return n.toUpperCase()}),typeof u._defaults.controlType=="string"?(n.fn[u._defaults.controlType]===undefined&&(u._defaults.controlType="select"),u.control=u._controls[u._defaults.controlType]):u.control=u._defaults.controlType,u._defaults.timezoneList===null&&(h=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"],u._defaults.timezoneIso8601&&(h=n.map(h,function(n){return n=="+0000"?"Z":n.substring(0,3)+":"+n.substring(3)})),u._defaults.timezoneList=h),u.timezone=u._defaults.timezone,u.hour=u._defaults.hour,u.minute=u._defaults.minute,u.second=u._defaults.second,u.millisec=u._defaults.millisec,u.ampm="",u.$input=t,i.altField&&(u.$altInput=n(i.altField).css({cursor:"pointer"}).focus(function(){t.trigger("focus")})),(u._defaults.minDate===0||u._defaults.minDateTime===0)&&(u._defaults.minDate=new Date),(u._defaults.maxDate===0||u._defaults.maxDateTime===0)&&(u._defaults.maxDate=new Date),u._defaults.minDate!==undefined&&u._defaults.minDate instanceof Date&&(u._defaults.minDateTime=new Date(u._defaults.minDate.getTime())),u._defaults.minDateTime!==undefined&&u._defaults.minDateTime instanceof Date&&(u._defaults.minDate=new Date(u._defaults.minDateTime.getTime())),u._defaults.maxDate!==undefined&&u._defaults.maxDate instanceof Date&&(u._defaults.maxDateTime=new Date(u._defaults.maxDate.getTime())),u._defaults.maxDateTime!==undefined&&u._defaults.maxDateTime instanceof Date&&(u._defaults.maxDate=new Date(u._defaults.maxDateTime.getTime())),u.$input.bind("focus",function(){u._onFocus()}),u},_addTimePicker:function(n){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(n,!1),this._injectTimePicker()},_parseTime:function(t,i){var r,u,f;if(this.inst||(this.inst=n.datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){r=n.datepicker._get(this.inst,"dateFormat");try{if(u=e(r,this._defaults.timeFormat,t,n.datepicker._getFormatConfig(this.inst),this._defaults),!u.timeObj)return!1;n.extend(this,u.timeObj)}catch(o){return n.datepicker.log("Error parsing the date/time string: "+o+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+r),!1}return!0}return(f=n.datepicker.parseTime(this._defaults.timeFormat,t,this._defaults),!f)?!1:(n.extend(this,f),!0)},_injectTimePicker:function(){var p=this.inst.dpDiv,u=this.inst.settings,f=this,r="",h="",a={},c={},w=null,l,o,b,nt,y,e,s,v,tt,it,d,rt,g,k;if(p.find("div.ui-timepicker-div").length===0&&u.showTimepicker){for(l=' style="display:none;"',o='<div class="ui-timepicker-div'+(u.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(u.showTime?"":l)+">"+u.timeText+'<\/dt><dd class="ui_tpicker_time"'+(u.showTime?"":l)+"><\/dd>",s=0,v=this.units.length;s<v;s++){if(r=this.units[s],h=r.substr(0,1).toUpperCase()+r.substr(1),a[r]=parseInt(u[r+"Max"]-(u[r+"Max"]-u[r+"Min"])%u["step"+h],10),c[r]=0,o+='<dt class="ui_tpicker_'+r+'_label"'+(u["show"+h]?"":l)+">"+u[r+"Text"]+'<\/dt><dd class="ui_tpicker_'+r+'"><div class="ui_tpicker_'+r+'_slider"'+(u["show"+h]?"":l)+"><\/div>",u["show"+h]&&u[r+"Grid"]>0){if(o+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',r=="hour")for(b=u[r+"Min"];b<=a[r];b+=parseInt(u[r+"Grid"],10))c[r]++,nt=n.datepicker.formatTime(t(u.pickerTimeFormat||u.timeFormat)?"hht":"HH",{hour:b},u),o+='<td data-for="'+r+'">'+nt+"<\/td>";else for(y=u[r+"Min"];y<=a[r];y+=parseInt(u[r+"Grid"],10))c[r]++,o+='<td data-for="'+r+'">'+(y<10?"0":"")+y+"<\/td>";o+="<\/tr><\/table><\/div>"}o+="<\/dd>"}for(o+='<dt class="ui_tpicker_timezone_label"'+(u.showTimezone?"":l)+">"+u.timezoneText+"<\/dt>",o+='<dd class="ui_tpicker_timezone" '+(u.showTimezone?"":l)+"><\/dd>",o+="<\/dl><\/div>",e=n(o),u.timeOnly===!0&&(e.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+u.timeOnlyTitle+"<\/div><\/div>"),p.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),s=0,v=f.units.length;s<v;s++)r=f.units[s],h=r.substr(0,1).toUpperCase()+r.substr(1),f[r+"_slider"]=f.control.create(f,e.find(".ui_tpicker_"+r+"_slider"),r,f[r],u[r+"Min"],a[r],u["step"+h]),u["show"+h]&&u[r+"Grid"]>0&&(w=100*c[r]*u[r+"Grid"]/(a[r]-u[r+"Min"]),e.find(".ui_tpicker_"+r+" table").css({width:w+"%",marginLeft:u.isRTL?"0":w/(-2*c[r])+"%",marginRight:u.isRTL?w/(-2*c[r])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var i=n(this),u=i.html(),t=parseInt(u.replace(/[^0-9]/g),10),e=u.replace(/[^apm]/ig),o=i.data("for");o=="hour"&&(e.indexOf("p")!==-1&&t<12?t+=12:e.indexOf("a")!==-1&&t===12&&(t=0)),f.control.value(f,f[o+"_slider"],r,t),f._onTimeChange(),f._onSelectHandler()}).css({cursor:"pointer",width:100/c[r]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=e.find(".ui_tpicker_timezone").append("<select><\/select>").find("select"),n.fn.append.apply(this.timezone_select,n.map(u.timezoneList,function(t){return n("<option />").val(typeof t=="object"?t.value:t).text(typeof t=="object"?t.label:t)})),typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""?(tt=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),it=n.timepicker.timeZoneOffsetString(tt),it==this.timezone?i(f):this.timezone_select.val(this.timezone)):typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(u.defaultTimezone):i(f),this.timezone_select.change(function(){f._defaults.useLocalTimezone=!1,f._onTimeChange()}),d=p.find(".ui-datepicker-buttonpane"),d.length?d.before(e):p.append(e),this.$timeObj=e.find(".ui_tpicker_time"),this.inst!==null&&(rt=this.timeDefined,this._onTimeChange(),this.timeDefined=rt),this._defaults.addSliderAccess&&(g=this._defaults.sliderAccessArgs,k=this._defaults.isRTL,g.isRTL=k,setTimeout(function(){if(e.find(".ui-slider-access").length===0){e.find(".ui-slider:visible").sliderAccess(g);var t=e.find(".ui-slider-access:eq(0)").outerWidth(!0);t&&e.find("table:visible").each(function(){var i=n(this),r=i.outerWidth(),e=i.css(k?"marginRight":"marginLeft").toString().replace("%",""),u=r-t,o=e*u/r+"%",f={width:u,marginRight:0,marginLeft:0};f[k?"marginRight":"marginLeft"]=o,i.css(f)})}},10))}},_limitMinMaxDateTime:function(t,i){var r=this._defaults,e=new Date(t.selectedYear,t.selectedMonth,t.selectedDay),u,o,f,s;if(this._defaults.showTimepicker&&(n.datepicker._get(t,"minDateTime")!==null&&n.datepicker._get(t,"minDateTime")!==undefined&&e&&(u=n.datepicker._get(t,"minDateTime"),o=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)&&(this.hourMinOriginal=r.hourMin,this.minuteMinOriginal=r.minuteMin,this.secondMinOriginal=r.secondMin,this.millisecMinOriginal=r.millisecMin),t.settings.timeOnly||o.getTime()==e.getTime()?(this._defaults.hourMin=u.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=u.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=u.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=u.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)),n.datepicker._get(t,"maxDateTime")!==null&&n.datepicker._get(t,"maxDateTime")!==undefined&&e&&(f=n.datepicker._get(t,"maxDateTime"),s=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0),(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)&&(this.hourMaxOriginal=r.hourMax,this.minuteMaxOriginal=r.minuteMax,this.secondMaxOriginal=r.secondMax,this.millisecMaxOriginal=r.millisecMax),t.settings.timeOnly||s.getTime()==e.getTime()?(this._defaults.hourMax=f.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=f.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=f.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=f.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)),i!==undefined&&i===!0)){var h=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),l=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),a=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:h}),this.control.value(this,this.hour_slider,"hour",this.hour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:l}),this.control.value(this,this.second_slider,"second",this.second)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:a}),this.control.value(this,this.millisec_slider,"millisec",this.millisec))}},_onTimeChange:function(){var i=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,u=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,f=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,e=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,o=this.timezone_select?this.timezone_select.val():!1,r=this._defaults,h=r.pickerTimeFormat||r.timeFormat,c=r.pickerTimeSuffix||r.timeSuffix,l,s;typeof i=="object"&&(i=!1),typeof u=="object"&&(u=!1),typeof f=="object"&&(f=!1),typeof e=="object"&&(e=!1),typeof o=="object"&&(o=!1),i!==!1&&(i=parseInt(i,10)),u!==!1&&(u=parseInt(u,10)),f!==!1&&(f=parseInt(f,10)),e!==!1&&(e=parseInt(e,10)),l=r[i<12?"amNames":"pmNames"][0],s=i!=this.hour||u!=this.minute||f!=this.second||e!=this.millisec||this.ampm.length>0&&i<12!=(n.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&o!=this.defaultTimezone||this.timezone!==null&&o!=this.timezone,s&&(i!==!1&&(this.hour=i),u!==!1&&(this.minute=u),f!==!1&&(this.second=f),e!==!1&&(this.millisec=e),o!==!1&&(this.timezone=o),this.inst||(this.inst=n.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),t(r.timeFormat)&&(this.ampm=l),this.formattedTime=n.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(h===r.timeFormat?this.$timeObj.text(this.formattedTime+c):this.$timeObj.text(n.datepicker.formatTime(h,this,r)+c)),this.timeDefined=!0,s&&this._updateDateTime()},_onSelectHandler:function(){var n=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;n&&t&&n.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(t){var i;t=this.inst||t;var r=n.datepicker._daylightSavingAdjust(new Date(t.selectedYear,t.selectedMonth,t.selectedDay)),o=n.datepicker._get(t,"dateFormat"),f=n.datepicker._getFormatConfig(t),s=r!==null&&this.timeDefined;if(this.formattedDate=n.datepicker.formatDate(o,r===null?new Date:r,f),i=this.formattedDate,this._defaults.timeOnly===!0?i=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)&&(i+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=i,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(i);var u="",h=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,e=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;u=this._defaults.altFormat?n.datepicker.formatDate(this._defaults.altFormat,r===null?new Date:r,f):this.formattedDate,u&&(u+=h),u+=this._defaults.altTimeFormat?n.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+e:this.formattedTime+e,this.$altInput.val(u)}else this.$input.val(i);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var t=n.datepicker._getInst(this.$input.get(0)),i=n.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{n.datepicker._updateDatepicker(t)}catch(r){n.datepicker.log(r)}}},_controls:{slider:{create:function(t,i,r,u,f,e,o){var s=t._defaults.isRTL;return i.prop("slide",null).slider({orientation:"horizontal",value:s?u*-1:u,min:s?e*-1:f,max:s?f*-1:e,step:o,slide:function(i,u){t.control.value(t,n(this),r,s?u.value*-1:u.value),t._onTimeChange()},stop:function(){t._onSelectHandler()}})},options:function(n,t,i,r,u){if(n._defaults.isRTL){if(typeof r=="string")return r=="min"||r=="max"?u!==undefined?t.slider(r,u*-1):Math.abs(t.slider(r)):t.slider(r);var f=r.min,e=r.max;return r.min=r.max=null,f!==undefined&&(r.max=f*-1),e!==undefined&&(r.min=e*-1),t.slider(r)}return typeof r=="string"&&u!==undefined?t.slider(r,u):t.slider(r)},value:function(n,t,i,r){return n._defaults.isRTL?r!==undefined?t.slider("value",r*-1):Math.abs(t.slider("value")):r!==undefined?t.slider("value",r):t.slider("value")}},select:{create:function(i,r,u,f,e,o,s){for(var c='<select class="ui-timepicker-select" data-unit="'+u+'" data-min="'+e+'" data-max="'+o+'" data-step="'+s+'">',l=i._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",h=e;h<=o;h+=s)c+='<option value="'+h+'"'+(h==f?" selected":"")+">",c+=u=="hour"&&t(i._defaults.pickerTimeFormat||i._defaults.timeFormat)?n.datepicker.formatTime("hh TT",{hour:h},i._defaults):u=="millisec"||h>=10?h:"0"+h.toString(),c+="<\/option>";return c+="<\/select>",r.children("select").remove(),n(c).appendTo(r).change(function(){i._onTimeChange(),i._onSelectHandler()}),r},options:function(n,t,i,r,u){var e={},f=t.children("select");if(typeof r=="string"){if(u===undefined)return f.data(r);e[r]=u}else e=r;return n.control.create(n,t,f.data("unit"),f.val(),e.min||f.data("min"),e.max||f.data("max"),e.step||f.data("step"))},value:function(n,t,i,r){var u=t.children("select");return r!==undefined?u.val(r):u.val()}}}}),n.fn.extend({timepicker:function(t){t=t||{};var i=Array.prototype.slice.call(arguments);return typeof t=="object"&&(i[0]=n.extend(t,{timeOnly:!0})),n(this).each(function(){n.fn.datetimepicker.apply(n(this),i)})},datetimepicker:function(t){t=t||{};var i=arguments;return typeof t=="string"?t=="getDate"?n.fn.datepicker.apply(n(this[0]),i):this.each(function(){var t=n(this);t.datepicker.apply(t,i)}):this.each(function(){var i=n(this);i.datepicker(n.timepicker._newInst(i,t)._defaults)})}}),n.datepicker.parseDateTime=function(n,t,i,r,u){var o=e(n,t,i,r,u),f;return o.timeObj&&(f=o.timeObj,o.date.setHours(f.hour,f.minute,f.second,f.millisec)),o.date},n.datepicker.parseTime=function(t,i,r){var f=u(u({},n.timepicker._defaults),r||{}),e=function(t,i,r){var h=function(t,i){var r=[];return t&&n.merge(r,t),i&&n.merge(r,i),r=n.map(r,function(n){return n.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+r.join("|")+")?"},c=function(n){var i=n.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),r={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1},t;if(i)for(t=0;t<i.length;t++)r[i[t].toString().charAt(0)]==-1&&(r[i[t].toString().charAt(0)]=t+1);return r},l="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(n){switch(n.charAt(0).toLowerCase()){case"h":return"(\\d?\\d)";case"m":return"(\\d?\\d)";case"s":return"(\\d?\\d)";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return h(r.amNames,r.pmNames);default:return"("+n.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(n){return"\\"+n})+")?"}}).replace(/\s/g,"\\s?")+r.timeSuffix+"$",u=c(t),s="",f,o,e;if(f=i.match(new RegExp(l,"i")),o={hour:0,minute:0,second:0,millisec:0},f){if(u.t!==-1&&(f[u.t]===undefined||f[u.t].length===0?(s="",o.ampm=""):(s=n.inArray(f[u.t].toUpperCase(),r.amNames)!==-1?"AM":"PM",o.ampm=r[s=="AM"?"amNames":"pmNames"][0])),u.h!==-1&&(o.hour=s=="AM"&&f[u.h]=="12"?0:s=="PM"&&f[u.h]!="12"?parseInt(f[u.h],10)+12:Number(f[u.h])),u.m!==-1&&(o.minute=Number(f[u.m])),u.s!==-1&&(o.second=Number(f[u.s])),u.l!==-1&&(o.millisec=Number(f[u.l])),u.z!==-1&&f[u.z]!==undefined){e=f[u.z].toUpperCase();switch(e.length){case 1:e=r.timezoneIso8601?"Z":"+0000";break;case 5:r.timezoneIso8601&&(e=e.substring(1)=="0000"?"Z":e.substring(0,3)+":"+e.substring(3));break;case 6:r.timezoneIso8601?e.substring(1)=="00:00"&&(e="Z"):e=e=="Z"||e.substring(1)=="00:00"?"+0000":e.replace(/:/,"")}o.timezone=e}return o}return!1},o=function(t,i,r){try{var u=new Date("2012-01-01 "+i);return{hour:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),millisec:u.getMilliseconds(),timezone:n.timepicker.timeZoneOffsetString(u)}}catch(f){try{return e(t,i,r)}catch(o){n.datepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1};return typeof f.parse=="function"?f.parse(t,i,f):f.parse==="loose"?o(t,i,f):e(t,i,f)},n.datepicker.formatTime=function(t,i,r){r=r||{},r=n.extend({},n.timepicker._defaults,r),i=n.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},i);var o=t,u=r.amNames[0],e=parseInt(i.hour,10);return e>11&&(u=r.pmNames[0]),o=o.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(n){switch(n){case"HH":return("0"+e).slice(-2);case"H":return e;case"hh":return("0"+f(e)).slice(-2);case"h":return f(e);case"mm":return("0"+i.minute).slice(-2);case"m":return i.minute;case"ss":return("0"+i.second).slice(-2);case"s":return i.second;case"l":return("00"+i.millisec).slice(-3);case"z":return i.timezone===null?r.defaultTimezone:i.timezone;case"T":return u.charAt(0).toUpperCase();case"TT":return u.toUpperCase();case"t":return u.charAt(0).toLowerCase();case"tt":return u.toLowerCase();default:return n.replace(/\'/g,"")||"'"}}),n.trim(o)},n.datepicker._base_selectDate=n.datepicker._selectDate,n.datepicker._selectDate=function(t,i){var r=this._getInst(n(t)[0]),u=this._get(r,"timepicker");u?(u._limitMinMaxDateTime(r,!0),r.inline=r.stay_open=!0,this._base_selectDate(t,i),r.inline=r.stay_open=!1,this._notifyChange(r),this._updateDatepicker(r)):this._base_selectDate(t,i)},n.datepicker._base_updateDatepicker=n.datepicker._updateDatepicker,n.datepicker._updateDatepicker=function(t){var f=t.input[0],r,u;n.datepicker._curInst&&n.datepicker._curInst!=t&&n.datepicker._datepickerShowing&&n.datepicker._lastInput!=f||(typeof t.stay_open!="boolean"||t.stay_open===!1)&&(this._base_updateDatepicker(t),r=this._get(t,"timepicker"),r&&(r._addTimePicker(t),r._defaults.useLocalTimezone&&(u=new Date(t.selectedYear,t.selectedMonth,t.selectedDay,12),i(r,u),r._onTimeChange())))},n.datepicker._base_doKeyPress=n.datepicker._doKeyPress,n.datepicker._doKeyPress=function(i){var f=n.datepicker._getInst(i.target),r=n.datepicker._get(f,"timepicker");if(r&&n.datepicker._get(f,"constrainInput")){var u=t(r._defaults.timeFormat),e=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),s=r._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,u?"APM":"").replace(/Tt/g,u?"AaPpMm":"").replace(/tT/g,u?"AaPpMm":"").replace(/T/g,u?"AP":"").replace(/tt/g,u?"apm":"").replace(/t/g,u?"ap":"")+" "+r._defaults.separator+r._defaults.timeSuffix+(r._defaults.showTimezone?r._defaults.timezoneList.join(""):"")+r._defaults.amNames.join("")+r._defaults.pmNames.join("")+e,o=String.fromCharCode(i.charCode===undefined?i.keyCode:i.charCode);return i.ctrlKey||o<" "||!e||s.indexOf(o)>-1}return n.datepicker._base_doKeyPress(i)},n.datepicker._base_updateAlternate=n.datepicker._updateAlternate,n.datepicker._updateAlternate=function(t){var i=this._get(t,"timepicker"),u;if(i){if(u=i._defaults.altField,u){var c=i._defaults.altFormat||i._defaults.dateFormat,f=this._getDate(t),o=n.datepicker._getFormatConfig(t),r="",e=i._defaults.altSeparator?i._defaults.altSeparator:i._defaults.separator,s=i._defaults.altTimeSuffix?i._defaults.altTimeSuffix:i._defaults.timeSuffix,h=i._defaults.altTimeFormat!==null?i._defaults.altTimeFormat:i._defaults.timeFormat;r+=n.datepicker.formatTime(h,i,i._defaults)+s,i._defaults.timeOnly||i._defaults.altFieldTimeOnly||(r=i._defaults.altFormat?n.datepicker.formatDate(i._defaults.altFormat,f===null?new Date:f,o)+e+r:i.formattedDate+e+r),n(u).val(r)}}else n.datepicker._base_updateAlternate(t)},n.datepicker._base_doKeyUp=n.datepicker._doKeyUp,n.datepicker._doKeyUp=function(t){var i=n.datepicker._getInst(t.target),r=n.datepicker._get(i,"timepicker");if(r&&r._defaults.timeOnly&&i.input.val()!=i.lastVal)try{n.datepicker._updateDatepicker(i)}catch(u){n.datepicker.log(u)}return n.datepicker._base_doKeyUp(t)},n.datepicker._base_gotoToday=n.datepicker._gotoToday,n.datepicker._gotoToday=function(t){var r=this._getInst(n(t)[0]),e=r.dpDiv,u,f;this._base_gotoToday(t),u=this._get(r,"timepicker"),i(u),f=new Date,this._setTime(r,f),n(".ui-datepicker-today",e).click()},n.datepicker._disableTimepickerDatepicker=function(t){var r=this._getInst(t),i;r&&(i=this._get(r,"timepicker"),n(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(r)))},n.datepicker._enableTimepickerDatepicker=function(t){var r=this._getInst(t),i;r&&(i=this._get(r,"timepicker"),n(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(r),i._updateDateTime(r)))},n.datepicker._setTime=function(n,t){var i=this._get(n,"timepicker"),r;i&&(r=i._defaults,i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i._limitMinMaxDateTime(n,!0),i._onTimeChange(),i._updateDateTime(n))},n.datepicker._setTimeDatepicker=function(n,t,i){var f=this._getInst(n),r,u;f&&(r=this._get(f,"timepicker"),r&&(this._setDateFromField(f),t&&(typeof t=="string"?(r._parseTime(t,i),u=new Date,u.setHours(r.hour,r.minute,r.second,r.millisec)):u=new Date(t.getTime()),u.toString()=="Invalid Date"&&(u=undefined),this._setTime(f,u))))},n.datepicker._base_setDateDatepicker=n.datepicker._setDateDatepicker,n.datepicker._setDateDatepicker=function(n,t){var i=this._getInst(n),r;i&&(r=t instanceof Date?new Date(t.getTime()):t,this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(n,r,!0))},n.datepicker._base_getDateDatepicker=n.datepicker._getDateDatepicker,n.datepicker._getDateDatepicker=function(t,i){var u=this._getInst(t),r,f;if(u)return(r=this._get(u,"timepicker"),r)?(u.lastVal===undefined&&this._setDateFromField(u,i),(f=this._getDate(u))&&r._parseTime(n(t).val(),r.timeOnly)&&f.setHours(r.hour,r.minute,r.second,r.millisec),f):this._base_getDateDatepicker(t,i)},n.datepicker._base_parseDate=n.datepicker.parseDate,n.datepicker.parseDate=function(t,i,r){var u;try{u=this._base_parseDate(t,i,r)}catch(f){u=this._base_parseDate(t,i.substring(0,i.length-(f.length-f.indexOf(":")-2)),r),n.datepicker.log("Error parsing the date string: "+f+"\ndate string = "+i+"\ndate format = "+t)}return u},n.datepicker._base_formatDate=n.datepicker._formatDate,n.datepicker._formatDate=function(n){var t=this._get(n,"timepicker");return t?(t._updateDateTime(n),t.$input.val()):this._base_formatDate(n)},n.datepicker._base_optionDatepicker=n.datepicker._optionDatepicker,n.datepicker._optionDatepicker=function(t,i,r){var v=this._getInst(t),h,s;if(!v)return null;if(s=this._get(v,"timepicker"),s){var f=null,e=null,a=null,c=s._defaults.evnts,l={},u;if(typeof i=="string"){if(i==="minDate"||i==="minDateTime")f=r;else if(i==="maxDate"||i==="maxDateTime")e=r;else if(i==="onSelect")a=r;else if(c.hasOwnProperty(i)){if(typeof r=="undefined")return c[i];l[i]=r,h={}}}else if(typeof i=="object"){i.minDate?f=i.minDate:i.minDateTime?f=i.minDateTime:i.maxDate?e=i.maxDate:i.maxDateTime&&(e=i.maxDateTime);for(u in c)c.hasOwnProperty(u)&&i[u]&&(l[u]=i[u])}for(u in l)l.hasOwnProperty(u)&&(c[u]=l[u],h||(h=n.extend({},i)),delete h[u]);if(h&&o(h))return;f?(f=f===0?new Date:new Date(f),s._defaults.minDate=f,s._defaults.minDateTime=f):e?(e=e===0?new Date:new Date(e),s._defaults.maxDate=e,s._defaults.maxDateTime=e):a&&(s._defaults.onSelect=a)}return r===undefined?this._base_optionDatepicker.call(n.datepicker,t,i):this._base_optionDatepicker.call(n.datepicker,t,h||i,r)};var o=function(n){var t;for(t in n)if(n.hasOwnProperty(n))return!1;return!0},u=function(t,i){n.extend(t,i);for(var r in i)(i[r]===null||i[r]===undefined)&&(t[r]=i[r]);return t},t=function(n){return n.indexOf("t")!==-1&&n.indexOf("h")!==-1},f=function(n){return n>12&&(n=n-12),n==0&&(n=12),String(n)},s=function(t,i,r,u){var o,v;try{var e=u&&u.separator?u.separator:n.timepicker._defaults.separator,l=u&&u.timeFormat?u.timeFormat:n.timepicker._defaults.timeFormat,a=l.split(e),h=a.length,s=i.split(e),c=s.length;if(c>1)return[s.splice(0,c-h).join(e),s.splice(0,h).join(e)]}catch(f){if(n.datepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+f+"\ndateTimeString"+i+"\ndateFormat = "+t+"\nseparator = "+u.separator+"\ntimeFormat = "+u.timeFormat),f.indexOf(":")>=0)return o=i.length-(f.length-f.indexOf(":")-2),v=i.substring(o),[n.trim(i.substring(0,o)),n.trim(i.substring(o))];throw f;}return[i,""]},e=function(t,i,r,u,f){var e,o=s(t,r,u,f),c,h;if(e=n.datepicker._base_parseDate(t,o[0],u),o[1]!==""){if(c=o[1],h=n.datepicker.parseTime(i,c,f),h===null)throw"Wrong time format";return{date:e,timeObj:h}}return{date:e}},i=function(t,i){if(t&&t.timezone_select){t._defaults.useLocalTimezone=!0;var u=typeof i!="undefined"?i:new Date,r=n.timepicker.timeZoneOffsetString(u);t._defaults.timezoneIso8601&&(r=r.substring(0,3)+":"+r.substring(3)),t.timezone_select.val(r)}};n.timepicker=new r,n.timepicker.timeZoneOffsetString=function(n){var t=n.getTimezoneOffset()*-1,i=t%60,r=(t-i)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).substr(-2)+("0"+(i*101).toString()).substr(-2)},n.timepicker.timeRange=function(t,i,r){return n.timepicker.handleRange("timepicker",t,i,r)},n.timepicker.dateTimeRange=function(t,i,r){n.timepicker.dateRange(t,i,r,"datetimepicker")},n.timepicker.dateRange=function(t,i,r,u){u=u||"datepicker",n.timepicker.handleRange(u,t,i,r)},n.timepicker.handleRange=function(t,i,r,u){function e(n,t,u){t.val()&&new Date(i.val())>new Date(r.val())&&t.val(u)}function f(i,r,u){if(n(i).val()){var f=n(i)[t].call(n(i),"getDate");f.getTime&&n(r)[t].call(n(r),"option",u,f)}}return n.fn[t].call(i,n.extend({onClose:function(n){e(this,r,n)},onSelect:function(){f(this,r,"minDate")}},u,u.start)),n.fn[t].call(r,n.extend({onClose:function(n){e(this,i,n)},onSelect:function(){f(this,i,"maxDate")}},u,u.end)),t!="timepicker"&&u.reformat&&n([i,r]).each(function(){var r=n(this)[t].call(n(this),"option","dateFormat"),i=new Date(n(this).val());n(this).val()&&i&&n(this).val(n.datepicker.formatDate(r,i))}),e(i,r,i.val()),f(i,r,"minDate"),f(r,i,"maxDate"),n([i.get(0),r.get(0)])},n.timepicker.version="1.1.1"}})(jQuery)