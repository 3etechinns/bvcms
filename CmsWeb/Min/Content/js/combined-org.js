function RebindMemberGrids(){$.updateTable($("#Members-tab form")),$.updateTable($("#Inactive-tab form")),$.updateTable($("#Pending-tab form")),$.updateTable($("#Priors-tab form")),$.updateTable($("#Visitors-tab form")),$("#memberDialog").dialog("close")}function CloseAddDialog(){$("#memberDialog").dialog("close")}function UpdateSelectedUsers(){}function UpdateSelectedOrgs(n){$.post("/Organization/UpdateOrgIds",{id:$("#OrganizationId").val(),list:n},function(n){$("#orgpickdiv").html(n),$("#orgsDialog").dialog("close")})}(function(n){var t=0;n.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{}},_create:function(){var i=this.element.hide(),t=this.options;this.speed=n.fx.speeds._default,this._isOpen=!1;var u=(this.button=n('<button type="button"><span class="ui-icon ui-icon-triangle-2-n-s"><\/span><\/button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(t.classes).attr({title:i.attr("title"),"aria-haspopup":!0,tabIndex:i.attr("tabIndex")}).insertAfter(i),e=(this.buttonlabel=n("<span />")).html(t.noneSelectedText).appendTo(u),r=(this.menu=n("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(t.classes).appendTo(document.body),f=(this.header=n("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(r),o=(this.headerLinkContainer=n("<ul />")).addClass("ui-helper-reset").html(function(){return t.header===!0?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"><\/span><span>'+t.checkAllText+'<\/span><\/a><\/li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"><\/span><span>'+t.uncheckAllText+"<\/span><\/a><\/li>":typeof t.header=="string"?"<li>"+t.header+"<\/li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"><\/span><\/a><\/li>').appendTo(f),s=(this.checkboxContainer=n("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(r);this._bindEvents(),this.refresh(!0),t.multiple||r.addClass("ui-multiselect-single")},_init:function(){this.options.header===!1&&this.header.hide(),this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide(),this.options.autoOpen&&this.open(),this.element.is(":disabled")&&this.disable()},refresh:function(i){var u=this.element,f=this.options,s=this.menu,h=this.checkboxContainer,e=[],r="",o=u.attr("id")||t++;u.find("option").each(function(t){var w=n(this),u=this.parentNode,c=this.innerHTML,v=this.title,y=this.value,l="ui-multiselect-"+(this.id||o+"-option-"+t),s=this.disabled,a=this.selected,h=["ui-corner-all"],p=(s?"ui-multiselect-disabled ":" ")+this.className,i;u.tagName==="OPTGROUP"&&(i=u.getAttribute("label"),n.inArray(i,e)===-1&&(r+='<li class="ui-multiselect-optgroup-label '+u.className+'"><a href="#">'+i+"<\/a><\/li>",e.push(i))),s&&h.push("ui-state-disabled"),a&&!f.multiple&&h.push("ui-state-active"),r+='<li class="'+p+'">',r+='<label for="'+l+'" title="'+v+'" class="'+h.join(" ")+'">',r+='<input id="'+l+'" name="multiselect_'+o+'" type="'+(f.multiple?"checkbox":"radio")+'" value="'+y+'" title="'+c+'"',a&&(r+=' checked="checked"',r+=' aria-selected="true"'),s&&(r+=' disabled="disabled"',r+=' aria-disabled="true"'),r+=" /><span>"+c+"<\/span><\/label><\/li>"}),h.html(r),this.labels=s.find("label"),this.inputs=this.labels.children("input"),this._setButtonWidth(),this._setMenuWidth(),this.button[0].defaultValue=this.update(),i||this._trigger("refresh")},update:function(){var t=this.options,r=this.inputs,u=r.filter(":checked"),i=u.length,f;return f=i===0?t.noneSelectedText:n.isFunction(t.selectedText)?t.selectedText.call(this,i,r.length,u.get()):/\d/.test(t.selectedList)&&t.selectedList>0&&i<=t.selectedList?u.map(function(){return n(this).next().html()}).get().join(", "):t.selectedText.replace("#",i).replace("#",r.length),this.buttonlabel.html(f),f},_bindEvents:function(){function r(){return t[t._isOpen?"close":"open"](),!1}var t=this,i=this.button;i.find("span").bind("click.multiselect",r),i.bind({click:r,keypress:function(n){switch(n.which){case 27:case 38:case 37:t.close();break;case 39:case 40:t.open()}},mouseenter:function(){i.hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},mouseleave:function(){n(this).removeClass("ui-state-hover")},focus:function(){i.hasClass("ui-state-disabled")||n(this).addClass("ui-state-focus")},blur:function(){n(this).removeClass("ui-state-focus")}}),this.header.delegate("a","click.multiselect",function(i){n(this).hasClass("ui-multiselect-close")?t.close():t[n(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"](),i.preventDefault()}),this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(i){i.preventDefault();var f=n(this),r=f.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),u=r.get(),e=f.parent().text();t._trigger("beforeoptgrouptoggle",i,{inputs:u,label:e})!==!1&&(t._toggleChecked(r.filter(":checked").length!==r.length,r),t._trigger("optgrouptoggle",i,{inputs:u,label:e,checked:u[0].checked}))}).delegate("label","mouseenter.multiselect",function(){n(this).hasClass("ui-state-disabled")||(t.labels.removeClass("ui-state-hover"),n(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(i){i.preventDefault();switch(i.which){case 9:case 27:t.close();break;case 38:case 40:case 37:case 39:t._traverse(i.which,this);break;case 13:n(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(i){var u=n(this),f=this.value,r=this.checked,e=t.element.find("option");if(this.disabled||t._trigger("click",i,{value:f,text:this.title,checked:r})===!1){i.preventDefault();return}u.focus(),u.attr("aria-selected",r),e.each(function(){this.value===f?this.selected=r:t.options.multiple||(this.selected=!1)}),t.options.multiple||(t.labels.removeClass("ui-state-active"),u.closest("label").toggleClass("ui-state-active",r),t.close()),t.element.trigger("change"),setTimeout(n.proxy(t.update,t),10)}),n(document).bind("mousedown.multiselect",function(i){!t._isOpen||n.contains(t.menu[0],i.target)||n.contains(t.button[0],i.target)||i.target===t.button[0]||t.close()}),n(this.element[0].form).bind("reset.multiselect",function(){setTimeout(n.proxy(t.refresh,t),10)})},_setButtonWidth:function(){var n=this.element.outerWidth(),t=this.options;/\d/.test(t.minWidth)&&n<t.minWidth&&(n=t.minWidth),this.button.width(n)},_setMenuWidth:function(){var n=this.menu,t=this.button.outerWidth()-parseInt(n.css("padding-left"),10)-parseInt(n.css("padding-right"),10)-parseInt(n.css("border-right-width"),10)-parseInt(n.css("border-left-width"),10);n.width(t||this.button.outerWidth())},_traverse:function(t,i){var e=n(i),r=t===38||t===37,f=e.parent()[r?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)")[r?"last":"first"](),u;f.length?f.find("label").trigger("mouseover"):(u=this.menu.find("ul").last(),this.menu.find("label")[r?"last":"first"]().trigger("mouseover"),u.scrollTop(r?u.height():0))},_toggleState:function(n,t){return function(){this.disabled||(this[n]=t),t?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(t,i){var r=i&&i.length?i:this.inputs,f=this,u;r.each(this._toggleState("checked",t)),r.eq(0).focus(),this.update(),u=r.map(function(){return this.value}).get(),this.element.find("option").each(function(){!this.disabled&&n.inArray(this.value,u)>-1&&f._toggleState("selected",t).call(this)}),r.length&&this.element.trigger("change")},_toggleDisabled:function(t){this.button.attr({disabled:t,"aria-disabled":t})[t?"addClass":"removeClass"]("ui-state-disabled");var i=this.menu.find("input"),r="ech-multiselect-disabled";i=t?i.filter(":enabled").data(r,!0):i.filter(function(){return n.data(this,r)===!0}).removeData(r),i.attr({disabled:t,"arial-disabled":t}).parent()[t?"addClass":"removeClass"]("ui-state-disabled"),this.element.attr({disabled:t,"aria-disabled":t})},open:function(){var s=this,i=this.button,r=this.menu,f=this.speed,t=this.options,e=[];if(this._trigger("beforeopen")!==!1&&!i.hasClass("ui-state-disabled")&&!this._isOpen){var h=r.find("ul").last(),u=t.show,o=i.offset();n.isArray(t.show)&&(u=t.show[0],f=t.show[1]||s.speed),u&&(e=[u,f]),h.scrollTop(0).height(t.height),n.ui.position&&!n.isEmptyObject(t.position)?(t.position.of=t.position.of||i,r.show().position(t.position).hide()):r.css({top:o.top+i.outerHeight(),left:o.left}),n.fn.show.apply(r,e),this.labels.eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus"),i.addClass("ui-state-active"),this._isOpen=!0,this._trigger("open")}},close:function(){if(this._trigger("beforeclose")!==!1){var t=this.options,i=t.hide,r=this.speed,u=[];n.isArray(t.hide)&&(i=t.hide[0],r=t.hide[1]||this.speed),i&&(u=[i,r]),n.fn.hide.apply(this.menu,u),this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave"),this._isOpen=!1,this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(){this._toggleChecked(!0),this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1),this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},destroy:function(){return n.Widget.prototype.destroy.call(this),this.button.remove(),this.menu.remove(),this.element.show(),this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},_setOption:function(t,i){var r=this.menu;switch(t){case"header":r.find("div.ui-multiselect-header")[i?"show":"hide"]();break;case"checkAllText":r.find("a.ui-multiselect-all span").eq(-1).text(i);break;case"uncheckAllText":r.find("a.ui-multiselect-none span").eq(-1).text(i);break;case"height":r.find("ul").last().height(parseInt(i,10));break;case"minWidth":this.options[t]=parseInt(i,10),this._setButtonWidth(),this._setMenuWidth();break;case"selectedText":case"selectedList":case"noneSelectedText":this.options[t]=i,this.update();break;case"classes":r.add(this.button).removeClass(this.options.classes).addClass(i);break;case"multiple":r.toggleClass("ui-multiselect-single",!i),this.options.multiple=i,this.element[0].multiple=i,this.refresh()}n.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery),function(n){function r(){this.regional=[],this.regional[""]={currentText:"Now",closeText:"Done",amNames:["AM","A"],pmNames:["PM","P"],timeFormat:"HH:mm",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone",isRTL:!1},this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:1,stepMinute:1,stepSecond:1,stepMillisec:1,hour:0,minute:0,second:0,millisec:0,timezone:null,useLocalTimezone:!1,defaultTimezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,altTimeFormat:null,altSeparator:null,altTimeSuffix:null,pickerTimeFormat:null,pickerTimeSuffix:null,showTimepicker:!0,timezoneIso8601:!1,timezoneList:null,addSliderAccess:!1,sliderAccessArgs:null,controlType:"slider",defaultValue:null,parse:"strict"},n.extend(this._defaults,this.regional[""])}if(n.ui.timepicker=n.ui.timepicker||{},!n.ui.timepicker.version){n.extend(n.ui,{timepicker:{version:"1.1.1"}}),n.extend(r.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:null,defaultTimezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,units:["hour","minute","second","millisec"],control:null,setDefaults:function(n){return u(this._defaults,n||{}),this},_newInst:function(t,i){var u=new r,c={},l={},e,o,f,s,h;for(f in this._defaults)if(this._defaults.hasOwnProperty(f)&&(s=t.attr("time:"+f),s))try{c[f]=eval(s)}catch(a){c[f]=s}e={beforeShow:function(i,r){if(n.isFunction(u._defaults.evnts.beforeShow))return u._defaults.evnts.beforeShow.call(t[0],i,r,u)},onChangeMonthYear:function(i,r,f){u._updateDateTime(f),n.isFunction(u._defaults.evnts.onChangeMonthYear)&&u._defaults.evnts.onChangeMonthYear.call(t[0],i,r,f,u)},onClose:function(i,r){u.timeDefined===!0&&t.val()!==""&&u._updateDateTime(r),n.isFunction(u._defaults.evnts.onClose)&&u._defaults.evnts.onClose.call(t[0],i,r,u)}};for(o in e)e.hasOwnProperty(o)&&(l[o]=i[o]||null);return u._defaults=n.extend({},this._defaults,c,i,e,{evnts:l,timepicker:u}),u.amNames=n.map(u._defaults.amNames,function(n){return n.toUpperCase()}),u.pmNames=n.map(u._defaults.pmNames,function(n){return n.toUpperCase()}),typeof u._defaults.controlType=="string"?(n.fn[u._defaults.controlType]===undefined&&(u._defaults.controlType="select"),u.control=u._controls[u._defaults.controlType]):u.control=u._defaults.controlType,u._defaults.timezoneList===null&&(h=["-1200","-1100","-1000","-0930","-0900","-0800","-0700","-0600","-0500","-0430","-0400","-0330","-0300","-0200","-0100","+0000","+0100","+0200","+0300","+0330","+0400","+0430","+0500","+0530","+0545","+0600","+0630","+0700","+0800","+0845","+0900","+0930","+1000","+1030","+1100","+1130","+1200","+1245","+1300","+1400"],u._defaults.timezoneIso8601&&(h=n.map(h,function(n){return n=="+0000"?"Z":n.substring(0,3)+":"+n.substring(3)})),u._defaults.timezoneList=h),u.timezone=u._defaults.timezone,u.hour=u._defaults.hour,u.minute=u._defaults.minute,u.second=u._defaults.second,u.millisec=u._defaults.millisec,u.ampm="",u.$input=t,i.altField&&(u.$altInput=n(i.altField).css({cursor:"pointer"}).focus(function(){t.trigger("focus")})),(u._defaults.minDate===0||u._defaults.minDateTime===0)&&(u._defaults.minDate=new Date),(u._defaults.maxDate===0||u._defaults.maxDateTime===0)&&(u._defaults.maxDate=new Date),u._defaults.minDate!==undefined&&u._defaults.minDate instanceof Date&&(u._defaults.minDateTime=new Date(u._defaults.minDate.getTime())),u._defaults.minDateTime!==undefined&&u._defaults.minDateTime instanceof Date&&(u._defaults.minDate=new Date(u._defaults.minDateTime.getTime())),u._defaults.maxDate!==undefined&&u._defaults.maxDate instanceof Date&&(u._defaults.maxDateTime=new Date(u._defaults.maxDate.getTime())),u._defaults.maxDateTime!==undefined&&u._defaults.maxDateTime instanceof Date&&(u._defaults.maxDate=new Date(u._defaults.maxDateTime.getTime())),u.$input.bind("focus",function(){u._onFocus()}),u},_addTimePicker:function(n){var t=this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val();this.timeDefined=this._parseTime(t),this._limitMinMaxDateTime(n,!1),this._injectTimePicker()},_parseTime:function(t,i){var r,u,f;if(this.inst||(this.inst=n.datepicker._getInst(this.$input[0])),i||!this._defaults.timeOnly){r=n.datepicker._get(this.inst,"dateFormat");try{if(u=e(r,this._defaults.timeFormat,t,n.datepicker._getFormatConfig(this.inst),this._defaults),!u.timeObj)return!1;n.extend(this,u.timeObj)}catch(o){return n.datepicker.log("Error parsing the date/time string: "+o+"\ndate/time string = "+t+"\ntimeFormat = "+this._defaults.timeFormat+"\ndateFormat = "+r),!1}return!0}return(f=n.datepicker.parseTime(this._defaults.timeFormat,t,this._defaults),!f)?!1:(n.extend(this,f),!0)},_injectTimePicker:function(){var p=this.inst.dpDiv,u=this.inst.settings,f=this,r="",h="",a={},c={},w=null,l,o,b,nt,y,e,s,v,tt,it,d,rt,g,k;if(p.find("div.ui-timepicker-div").length===0&&u.showTimepicker){for(l=' style="display:none;"',o='<div class="ui-timepicker-div'+(u.isRTL?" ui-timepicker-rtl":"")+'"><dl><dt class="ui_tpicker_time_label"'+(u.showTime?"":l)+">"+u.timeText+'<\/dt><dd class="ui_tpicker_time"'+(u.showTime?"":l)+"><\/dd>",s=0,v=this.units.length;s<v;s++){if(r=this.units[s],h=r.substr(0,1).toUpperCase()+r.substr(1),a[r]=parseInt(u[r+"Max"]-(u[r+"Max"]-u[r+"Min"])%u["step"+h],10),c[r]=0,o+='<dt class="ui_tpicker_'+r+'_label"'+(u["show"+h]?"":l)+">"+u[r+"Text"]+'<\/dt><dd class="ui_tpicker_'+r+'"><div class="ui_tpicker_'+r+'_slider"'+(u["show"+h]?"":l)+"><\/div>",u["show"+h]&&u[r+"Grid"]>0){if(o+='<div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>',r=="hour")for(b=u[r+"Min"];b<=a[r];b+=parseInt(u[r+"Grid"],10))c[r]++,nt=n.datepicker.formatTime(t(u.pickerTimeFormat||u.timeFormat)?"hht":"HH",{hour:b},u),o+='<td data-for="'+r+'">'+nt+"<\/td>";else for(y=u[r+"Min"];y<=a[r];y+=parseInt(u[r+"Grid"],10))c[r]++,o+='<td data-for="'+r+'">'+(y<10?"0":"")+y+"<\/td>";o+="<\/tr><\/table><\/div>"}o+="<\/dd>"}for(o+='<dt class="ui_tpicker_timezone_label"'+(u.showTimezone?"":l)+">"+u.timezoneText+"<\/dt>",o+='<dd class="ui_tpicker_timezone" '+(u.showTimezone?"":l)+"><\/dd>",o+="<\/dl><\/div>",e=n(o),u.timeOnly===!0&&(e.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+u.timeOnlyTitle+"<\/div><\/div>"),p.find(".ui-datepicker-header, .ui-datepicker-calendar").hide()),s=0,v=f.units.length;s<v;s++)r=f.units[s],h=r.substr(0,1).toUpperCase()+r.substr(1),f[r+"_slider"]=f.control.create(f,e.find(".ui_tpicker_"+r+"_slider"),r,f[r],u[r+"Min"],a[r],u["step"+h]),u["show"+h]&&u[r+"Grid"]>0&&(w=100*c[r]*u[r+"Grid"]/(a[r]-u[r+"Min"]),e.find(".ui_tpicker_"+r+" table").css({width:w+"%",marginLeft:u.isRTL?"0":w/(-2*c[r])+"%",marginRight:u.isRTL?w/(-2*c[r])+"%":"0",borderCollapse:"collapse"}).find("td").click(function(){var i=n(this),u=i.html(),t=parseInt(u.replace(/[^0-9]/g),10),e=u.replace(/[^apm]/ig),o=i.data("for");o=="hour"&&(e.indexOf("p")!==-1&&t<12?t+=12:e.indexOf("a")!==-1&&t===12&&(t=0)),f.control.value(f,f[o+"_slider"],r,t),f._onTimeChange(),f._onSelectHandler()}).css({cursor:"pointer",width:100/c[r]+"%",textAlign:"center",overflow:"hidden"}));this.timezone_select=e.find(".ui_tpicker_timezone").append("<select><\/select>").find("select"),n.fn.append.apply(this.timezone_select,n.map(u.timezoneList,function(t){return n("<option />").val(typeof t=="object"?t.value:t).text(typeof t=="object"?t.label:t)})),typeof this.timezone!="undefined"&&this.timezone!==null&&this.timezone!==""?(tt=new Date(this.inst.selectedYear,this.inst.selectedMonth,this.inst.selectedDay,12),it=n.timepicker.timeZoneOffsetString(tt),it==this.timezone?i(f):this.timezone_select.val(this.timezone)):typeof this.hour!="undefined"&&this.hour!==null&&this.hour!==""?this.timezone_select.val(u.defaultTimezone):i(f),this.timezone_select.change(function(){f._defaults.useLocalTimezone=!1,f._onTimeChange()}),d=p.find(".ui-datepicker-buttonpane"),d.length?d.before(e):p.append(e),this.$timeObj=e.find(".ui_tpicker_time"),this.inst!==null&&(rt=this.timeDefined,this._onTimeChange(),this.timeDefined=rt),this._defaults.addSliderAccess&&(g=this._defaults.sliderAccessArgs,k=this._defaults.isRTL,g.isRTL=k,setTimeout(function(){if(e.find(".ui-slider-access").length===0){e.find(".ui-slider:visible").sliderAccess(g);var t=e.find(".ui-slider-access:eq(0)").outerWidth(!0);t&&e.find("table:visible").each(function(){var i=n(this),r=i.outerWidth(),e=i.css(k?"marginRight":"marginLeft").toString().replace("%",""),u=r-t,o=e*u/r+"%",f={width:u,marginRight:0,marginLeft:0};f[k?"marginRight":"marginLeft"]=o,i.css(f)})}},10))}},_limitMinMaxDateTime:function(t,i){var r=this._defaults,e=new Date(t.selectedYear,t.selectedMonth,t.selectedDay),u,o,f,s;if(this._defaults.showTimepicker&&(n.datepicker._get(t,"minDateTime")!==null&&n.datepicker._get(t,"minDateTime")!==undefined&&e&&(u=n.datepicker._get(t,"minDateTime"),o=new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0,0,0),(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)&&(this.hourMinOriginal=r.hourMin,this.minuteMinOriginal=r.minuteMin,this.secondMinOriginal=r.secondMin,this.millisecMinOriginal=r.millisecMin),t.settings.timeOnly||o.getTime()==e.getTime()?(this._defaults.hourMin=u.getHours(),this.hour<=this._defaults.hourMin?(this.hour=this._defaults.hourMin,this._defaults.minuteMin=u.getMinutes(),this.minute<=this._defaults.minuteMin?(this.minute=this._defaults.minuteMin,this._defaults.secondMin=u.getSeconds(),this.second<=this._defaults.secondMin?(this.second=this._defaults.secondMin,this._defaults.millisecMin=u.getMilliseconds()):(this.millisec<this._defaults.millisecMin&&(this.millisec=this._defaults.millisecMin),this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)):(this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal)),n.datepicker._get(t,"maxDateTime")!==null&&n.datepicker._get(t,"maxDateTime")!==undefined&&e&&(f=n.datepicker._get(t,"maxDateTime"),s=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0),(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)&&(this.hourMaxOriginal=r.hourMax,this.minuteMaxOriginal=r.minuteMax,this.secondMaxOriginal=r.secondMax,this.millisecMaxOriginal=r.millisecMax),t.settings.timeOnly||s.getTime()==e.getTime()?(this._defaults.hourMax=f.getHours(),this.hour>=this._defaults.hourMax?(this.hour=this._defaults.hourMax,this._defaults.minuteMax=f.getMinutes(),this.minute>=this._defaults.minuteMax?(this.minute=this._defaults.minuteMax,this._defaults.secondMax=f.getSeconds()):this.second>=this._defaults.secondMax?(this.second=this._defaults.secondMax,this._defaults.millisecMax=f.getMilliseconds()):(this.millisec>this._defaults.millisecMax&&(this.millisec=this._defaults.millisecMax),this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)):(this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal)),i!==undefined&&i===!0)){var h=parseInt(this._defaults.hourMax-(this._defaults.hourMax-this._defaults.hourMin)%this._defaults.stepHour,10),c=parseInt(this._defaults.minuteMax-(this._defaults.minuteMax-this._defaults.minuteMin)%this._defaults.stepMinute,10),l=parseInt(this._defaults.secondMax-(this._defaults.secondMax-this._defaults.secondMin)%this._defaults.stepSecond,10),a=parseInt(this._defaults.millisecMax-(this._defaults.millisecMax-this._defaults.millisecMin)%this._defaults.stepMillisec,10);this.hour_slider&&(this.control.options(this,this.hour_slider,"hour",{min:this._defaults.hourMin,max:h}),this.control.value(this,this.hour_slider,"hour",this.hour)),this.minute_slider&&(this.control.options(this,this.minute_slider,"minute",{min:this._defaults.minuteMin,max:c}),this.control.value(this,this.minute_slider,"minute",this.minute)),this.second_slider&&(this.control.options(this,this.second_slider,"second",{min:this._defaults.secondMin,max:l}),this.control.value(this,this.second_slider,"second",this.second)),this.millisec_slider&&(this.control.options(this,this.millisec_slider,"millisec",{min:this._defaults.millisecMin,max:a}),this.control.value(this,this.millisec_slider,"millisec",this.millisec))}},_onTimeChange:function(){var i=this.hour_slider?this.control.value(this,this.hour_slider,"hour"):!1,u=this.minute_slider?this.control.value(this,this.minute_slider,"minute"):!1,f=this.second_slider?this.control.value(this,this.second_slider,"second"):!1,e=this.millisec_slider?this.control.value(this,this.millisec_slider,"millisec"):!1,o=this.timezone_select?this.timezone_select.val():!1,r=this._defaults,h=r.pickerTimeFormat||r.timeFormat,c=r.pickerTimeSuffix||r.timeSuffix,l,s;typeof i=="object"&&(i=!1),typeof u=="object"&&(u=!1),typeof f=="object"&&(f=!1),typeof e=="object"&&(e=!1),typeof o=="object"&&(o=!1),i!==!1&&(i=parseInt(i,10)),u!==!1&&(u=parseInt(u,10)),f!==!1&&(f=parseInt(f,10)),e!==!1&&(e=parseInt(e,10)),l=r[i<12?"amNames":"pmNames"][0],s=i!=this.hour||u!=this.minute||f!=this.second||e!=this.millisec||this.ampm.length>0&&i<12!=(n.inArray(this.ampm.toUpperCase(),this.amNames)!==-1)||this.timezone===null&&o!=this.defaultTimezone||this.timezone!==null&&o!=this.timezone,s&&(i!==!1&&(this.hour=i),u!==!1&&(this.minute=u),f!==!1&&(this.second=f),e!==!1&&(this.millisec=e),o!==!1&&(this.timezone=o),this.inst||(this.inst=n.datepicker._getInst(this.$input[0])),this._limitMinMaxDateTime(this.inst,!0)),t(r.timeFormat)&&(this.ampm=l),this.formattedTime=n.datepicker.formatTime(r.timeFormat,this,r),this.$timeObj&&(h===r.timeFormat?this.$timeObj.text(this.formattedTime+c):this.$timeObj.text(n.datepicker.formatTime(h,this,r)+c)),this.timeDefined=!0,s&&this._updateDateTime()},_onSelectHandler:function(){var n=this._defaults.onSelect||this.inst.settings.onSelect,t=this.$input?this.$input[0]:null;n&&t&&n.apply(t,[this.formattedDateTime,this])},_updateDateTime:function(t){var i;t=this.inst||t;var r=n.datepicker._daylightSavingAdjust(new Date(t.selectedYear,t.selectedMonth,t.selectedDay)),o=n.datepicker._get(t,"dateFormat"),f=n.datepicker._getFormatConfig(t),s=r!==null&&this.timeDefined;if(this.formattedDate=n.datepicker.formatDate(o,r===null?new Date:r,f),i=this.formattedDate,this._defaults.timeOnly===!0?i=this.formattedTime:this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||s)&&(i+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix),this.formattedDateTime=i,this._defaults.showTimepicker)if(this.$altInput&&this._defaults.altFieldTimeOnly===!0)this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate);else if(this.$altInput){this.$input.val(i);var u="",h=this._defaults.altSeparator?this._defaults.altSeparator:this._defaults.separator,e=this._defaults.altTimeSuffix?this._defaults.altTimeSuffix:this._defaults.timeSuffix;u=this._defaults.altFormat?n.datepicker.formatDate(this._defaults.altFormat,r===null?new Date:r,f):this.formattedDate,u&&(u+=h),u+=this._defaults.altTimeFormat?n.datepicker.formatTime(this._defaults.altTimeFormat,this,this._defaults)+e:this.formattedTime+e,this.$altInput.val(u)}else this.$input.val(i);else this.$input.val(this.formattedDate);this.$input.trigger("change")},_onFocus:function(){if(!this.$input.val()&&this._defaults.defaultValue){this.$input.val(this._defaults.defaultValue);var t=n.datepicker._getInst(this.$input.get(0)),i=n.datepicker._get(t,"timepicker");if(i&&i._defaults.timeOnly&&t.input.val()!=t.lastVal)try{n.datepicker._updateDatepicker(t)}catch(r){n.datepicker.log(r)}}},_controls:{slider:{create:function(t,i,r,u,f,e,o){var s=t._defaults.isRTL;return i.prop("slide",null).slider({orientation:"horizontal",value:s?u*-1:u,min:s?e*-1:f,max:s?f*-1:e,step:o,slide:function(i,u){t.control.value(t,n(this),r,s?u.value*-1:u.value),t._onTimeChange()},stop:function(){t._onSelectHandler()}})},options:function(n,t,i,r,u){if(n._defaults.isRTL){if(typeof r=="string")return r=="min"||r=="max"?u!==undefined?t.slider(r,u*-1):Math.abs(t.slider(r)):t.slider(r);var f=r.min,e=r.max;return r.min=r.max=null,f!==undefined&&(r.max=f*-1),e!==undefined&&(r.min=e*-1),t.slider(r)}return typeof r=="string"&&u!==undefined?t.slider(r,u):t.slider(r)},value:function(n,t,i,r){return n._defaults.isRTL?r!==undefined?t.slider("value",r*-1):Math.abs(t.slider("value")):r!==undefined?t.slider("value",r):t.slider("value")}},select:{create:function(i,r,u,f,e,o,s){for(var c='<select class="ui-timepicker-select" data-unit="'+u+'" data-min="'+e+'" data-max="'+o+'" data-step="'+s+'">',l=i._defaults.timeFormat.indexOf("t")!==-1?"toLowerCase":"toUpperCase",h=e;h<=o;h+=s)c+='<option value="'+h+'"'+(h==f?" selected":"")+">",c+=u=="hour"&&t(i._defaults.pickerTimeFormat||i._defaults.timeFormat)?n.datepicker.formatTime("hh TT",{hour:h},i._defaults):u=="millisec"||h>=10?h:"0"+h.toString(),c+="<\/option>";return c+="<\/select>",r.children("select").remove(),n(c).appendTo(r).change(function(){i._onTimeChange(),i._onSelectHandler()}),r},options:function(n,t,i,r,u){var e={},f=t.children("select");if(typeof r=="string"){if(u===undefined)return f.data(r);e[r]=u}else e=r;return n.control.create(n,t,f.data("unit"),f.val(),e.min||f.data("min"),e.max||f.data("max"),e.step||f.data("step"))},value:function(n,t,i,r){var u=t.children("select");return r!==undefined?u.val(r):u.val()}}}}),n.fn.extend({timepicker:function(t){t=t||{};var i=Array.prototype.slice.call(arguments);return typeof t=="object"&&(i[0]=n.extend(t,{timeOnly:!0})),n(this).each(function(){n.fn.datetimepicker.apply(n(this),i)})},datetimepicker:function(t){t=t||{};var i=arguments;return typeof t=="string"?t=="getDate"?n.fn.datepicker.apply(n(this[0]),i):this.each(function(){var t=n(this);t.datepicker.apply(t,i)}):this.each(function(){var i=n(this);i.datepicker(n.timepicker._newInst(i,t)._defaults)})}}),n.datepicker.parseDateTime=function(n,t,i,r,u){var o=e(n,t,i,r,u),f;return o.timeObj&&(f=o.timeObj,o.date.setHours(f.hour,f.minute,f.second,f.millisec)),o.date},n.datepicker.parseTime=function(t,i,r){var f=u(u({},n.timepicker._defaults),r||{}),e=function(t,i,r){var h=function(t,i){var r=[];return t&&n.merge(r,t),i&&n.merge(r,i),r=n.map(r,function(n){return n.replace(/[.*+?|()\[\]{}\\]/g,"\\$&")}),"("+r.join("|")+")?"},c=function(n){var i=n.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z|'.*?')/g),r={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1},t;if(i)for(t=0;t<i.length;t++)r[i[t].toString().charAt(0)]==-1&&(r[i[t].toString().charAt(0)]=t+1);return r},l="^"+t.toString().replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[lz]|'.*?')/g,function(n){switch(n.charAt(0).toLowerCase()){case"h":return"(\\d?\\d)";case"m":return"(\\d?\\d)";case"s":return"(\\d?\\d)";case"l":return"(\\d?\\d?\\d)";case"z":return"(z|[-+]\\d\\d:?\\d\\d|\\S+)?";case"t":return h(r.amNames,r.pmNames);default:return"("+n.replace(/\'/g,"").replace(/(\.|\$|\^|\\|\/|\(|\)|\[|\]|\?|\+|\*)/g,function(n){return"\\"+n})+")?"}}).replace(/\s/g,"\\s?")+r.timeSuffix+"$",u=c(t),s="",f,o,e;if(f=i.match(new RegExp(l,"i")),o={hour:0,minute:0,second:0,millisec:0},f){if(u.t!==-1&&(f[u.t]===undefined||f[u.t].length===0?(s="",o.ampm=""):(s=n.inArray(f[u.t].toUpperCase(),r.amNames)!==-1?"AM":"PM",o.ampm=r[s=="AM"?"amNames":"pmNames"][0])),u.h!==-1&&(o.hour=s=="AM"&&f[u.h]=="12"?0:s=="PM"&&f[u.h]!="12"?parseInt(f[u.h],10)+12:Number(f[u.h])),u.m!==-1&&(o.minute=Number(f[u.m])),u.s!==-1&&(o.second=Number(f[u.s])),u.l!==-1&&(o.millisec=Number(f[u.l])),u.z!==-1&&f[u.z]!==undefined){e=f[u.z].toUpperCase();switch(e.length){case 1:e=r.timezoneIso8601?"Z":"+0000";break;case 5:r.timezoneIso8601&&(e=e.substring(1)=="0000"?"Z":e.substring(0,3)+":"+e.substring(3));break;case 6:r.timezoneIso8601?e.substring(1)=="00:00"&&(e="Z"):e=e=="Z"||e.substring(1)=="00:00"?"+0000":e.replace(/:/,"")}o.timezone=e}return o}return!1},o=function(t,i,r){try{var u=new Date("2012-01-01 "+i);return{hour:u.getHours(),minutes:u.getMinutes(),seconds:u.getSeconds(),millisec:u.getMilliseconds(),timezone:n.timepicker.timeZoneOffsetString(u)}}catch(f){try{return e(t,i,r)}catch(o){n.datepicker.log("Unable to parse \ntimeString: "+i+"\ntimeFormat: "+t)}}return!1};return typeof f.parse=="function"?f.parse(t,i,f):f.parse==="loose"?o(t,i,f):e(t,i,f)},n.datepicker.formatTime=function(t,i,r){r=r||{},r=n.extend({},n.timepicker._defaults,r),i=n.extend({hour:0,minute:0,second:0,millisec:0,timezone:"+0000"},i);var o=t,u=r.amNames[0],e=parseInt(i.hour,10);return e>11&&(u=r.pmNames[0]),o=o.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[lz]|('.*?'|".*?"))/g,function(n){switch(n){case"HH":return("0"+e).slice(-2);case"H":return e;case"hh":return("0"+f(e)).slice(-2);case"h":return f(e);case"mm":return("0"+i.minute).slice(-2);case"m":return i.minute;case"ss":return("0"+i.second).slice(-2);case"s":return i.second;case"l":return("00"+i.millisec).slice(-3);case"z":return i.timezone===null?r.defaultTimezone:i.timezone;case"T":return u.charAt(0).toUpperCase();case"TT":return u.toUpperCase();case"t":return u.charAt(0).toLowerCase();case"tt":return u.toLowerCase();default:return n.replace(/\'/g,"")||"'"}}),n.trim(o)},n.datepicker._base_selectDate=n.datepicker._selectDate,n.datepicker._selectDate=function(t,i){var r=this._getInst(n(t)[0]),u=this._get(r,"timepicker");u?(u._limitMinMaxDateTime(r,!0),r.inline=r.stay_open=!0,this._base_selectDate(t,i),r.inline=r.stay_open=!1,this._notifyChange(r),this._updateDatepicker(r)):this._base_selectDate(t,i)},n.datepicker._base_updateDatepicker=n.datepicker._updateDatepicker,n.datepicker._updateDatepicker=function(t){var f=t.input[0],r,u;n.datepicker._curInst&&n.datepicker._curInst!=t&&n.datepicker._datepickerShowing&&n.datepicker._lastInput!=f||(typeof t.stay_open!="boolean"||t.stay_open===!1)&&(this._base_updateDatepicker(t),r=this._get(t,"timepicker"),r&&(r._addTimePicker(t),r._defaults.useLocalTimezone&&(u=new Date(t.selectedYear,t.selectedMonth,t.selectedDay,12),i(r,u),r._onTimeChange())))},n.datepicker._base_doKeyPress=n.datepicker._doKeyPress,n.datepicker._doKeyPress=function(i){var f=n.datepicker._getInst(i.target),r=n.datepicker._get(f,"timepicker");if(r&&n.datepicker._get(f,"constrainInput")){var u=t(r._defaults.timeFormat),e=n.datepicker._possibleChars(n.datepicker._get(f,"dateFormat")),s=r._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,u?"APM":"").replace(/Tt/g,u?"AaPpMm":"").replace(/tT/g,u?"AaPpMm":"").replace(/T/g,u?"AP":"").replace(/tt/g,u?"apm":"").replace(/t/g,u?"ap":"")+" "+r._defaults.separator+r._defaults.timeSuffix+(r._defaults.showTimezone?r._defaults.timezoneList.join(""):"")+r._defaults.amNames.join("")+r._defaults.pmNames.join("")+e,o=String.fromCharCode(i.charCode===undefined?i.keyCode:i.charCode);return i.ctrlKey||o<" "||!e||s.indexOf(o)>-1}return n.datepicker._base_doKeyPress(i)},n.datepicker._base_updateAlternate=n.datepicker._updateAlternate,n.datepicker._updateAlternate=function(t){var i=this._get(t,"timepicker"),u;if(i){if(u=i._defaults.altField,u){var c=i._defaults.altFormat||i._defaults.dateFormat,f=this._getDate(t),o=n.datepicker._getFormatConfig(t),r="",e=i._defaults.altSeparator?i._defaults.altSeparator:i._defaults.separator,s=i._defaults.altTimeSuffix?i._defaults.altTimeSuffix:i._defaults.timeSuffix,h=i._defaults.altTimeFormat!==null?i._defaults.altTimeFormat:i._defaults.timeFormat;r+=n.datepicker.formatTime(h,i,i._defaults)+s,i._defaults.timeOnly||i._defaults.altFieldTimeOnly||(r=i._defaults.altFormat?n.datepicker.formatDate(i._defaults.altFormat,f===null?new Date:f,o)+e+r:i.formattedDate+e+r),n(u).val(r)}}else n.datepicker._base_updateAlternate(t)},n.datepicker._base_doKeyUp=n.datepicker._doKeyUp,n.datepicker._doKeyUp=function(t){var i=n.datepicker._getInst(t.target),r=n.datepicker._get(i,"timepicker");if(r&&r._defaults.timeOnly&&i.input.val()!=i.lastVal)try{n.datepicker._updateDatepicker(i)}catch(u){n.datepicker.log(u)}return n.datepicker._base_doKeyUp(t)},n.datepicker._base_gotoToday=n.datepicker._gotoToday,n.datepicker._gotoToday=function(t){var r=this._getInst(n(t)[0]),e=r.dpDiv,u,f;this._base_gotoToday(t),u=this._get(r,"timepicker"),i(u),f=new Date,this._setTime(r,f),n(".ui-datepicker-today",e).click()},n.datepicker._disableTimepickerDatepicker=function(t){var r=this._getInst(t),i;r&&(i=this._get(r,"timepicker"),n(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!1,i._updateDateTime(r)))},n.datepicker._enableTimepickerDatepicker=function(t){var r=this._getInst(t),i;r&&(i=this._get(r,"timepicker"),n(t).datepicker("getDate"),i&&(i._defaults.showTimepicker=!0,i._addTimePicker(r),i._updateDateTime(r)))},n.datepicker._setTime=function(n,t){var i=this._get(n,"timepicker"),r;i&&(r=i._defaults,i.hour=t?t.getHours():r.hour,i.minute=t?t.getMinutes():r.minute,i.second=t?t.getSeconds():r.second,i.millisec=t?t.getMilliseconds():r.millisec,i._limitMinMaxDateTime(n,!0),i._onTimeChange(),i._updateDateTime(n))},n.datepicker._setTimeDatepicker=function(n,t,i){var f=this._getInst(n),r,u;f&&(r=this._get(f,"timepicker"),r&&(this._setDateFromField(f),t&&(typeof t=="string"?(r._parseTime(t,i),u=new Date,u.setHours(r.hour,r.minute,r.second,r.millisec)):u=new Date(t.getTime()),u.toString()=="Invalid Date"&&(u=undefined),this._setTime(f,u))))},n.datepicker._base_setDateDatepicker=n.datepicker._setDateDatepicker,n.datepicker._setDateDatepicker=function(n,t){var i=this._getInst(n),r;i&&(r=t instanceof Date?new Date(t.getTime()):t,this._updateDatepicker(i),this._base_setDateDatepicker.apply(this,arguments),this._setTimeDatepicker(n,r,!0))},n.datepicker._base_getDateDatepicker=n.datepicker._getDateDatepicker,n.datepicker._getDateDatepicker=function(t,i){var u=this._getInst(t),r,f;if(u)return(r=this._get(u,"timepicker"),r)?(u.lastVal===undefined&&this._setDateFromField(u,i),(f=this._getDate(u))&&r._parseTime(n(t).val(),r.timeOnly)&&f.setHours(r.hour,r.minute,r.second,r.millisec),f):this._base_getDateDatepicker(t,i)},n.datepicker._base_parseDate=n.datepicker.parseDate,n.datepicker.parseDate=function(t,i,r){var u;try{u=this._base_parseDate(t,i,r)}catch(f){u=this._base_parseDate(t,i.substring(0,i.length-(f.length-f.indexOf(":")-2)),r),n.datepicker.log("Error parsing the date string: "+f+"\ndate string = "+i+"\ndate format = "+t)}return u},n.datepicker._base_formatDate=n.datepicker._formatDate,n.datepicker._formatDate=function(n){var t=this._get(n,"timepicker");return t?(t._updateDateTime(n),t.$input.val()):this._base_formatDate(n)},n.datepicker._base_optionDatepicker=n.datepicker._optionDatepicker,n.datepicker._optionDatepicker=function(t,i,r){var v=this._getInst(t),h,s;if(!v)return null;if(s=this._get(v,"timepicker"),s){var f=null,e=null,a=null,c=s._defaults.evnts,l={},u;if(typeof i=="string"){if(i==="minDate"||i==="minDateTime")f=r;else if(i==="maxDate"||i==="maxDateTime")e=r;else if(i==="onSelect")a=r;else if(c.hasOwnProperty(i)){if(typeof r=="undefined")return c[i];l[i]=r,h={}}}else if(typeof i=="object"){i.minDate?f=i.minDate:i.minDateTime?f=i.minDateTime:i.maxDate?e=i.maxDate:i.maxDateTime&&(e=i.maxDateTime);for(u in c)c.hasOwnProperty(u)&&i[u]&&(l[u]=i[u])}for(u in l)l.hasOwnProperty(u)&&(c[u]=l[u],h||(h=n.extend({},i)),delete h[u]);if(h&&o(h))return;f?(f=f===0?new Date:new Date(f),s._defaults.minDate=f,s._defaults.minDateTime=f):e?(e=e===0?new Date:new Date(e),s._defaults.maxDate=e,s._defaults.maxDateTime=e):a&&(s._defaults.onSelect=a)}return r===undefined?this._base_optionDatepicker.call(n.datepicker,t,i):this._base_optionDatepicker.call(n.datepicker,t,h||i,r)};var o=function(n){var t;for(t in n)if(n.hasOwnProperty(n))return!1;return!0},u=function(t,i){n.extend(t,i);for(var r in i)(i[r]===null||i[r]===undefined)&&(t[r]=i[r]);return t},t=function(n){return n.indexOf("t")!==-1&&n.indexOf("h")!==-1},f=function(n){return n>12&&(n=n-12),n==0&&(n=12),String(n)},s=function(t,i,r,u){var o,v;try{var e=u&&u.separator?u.separator:n.timepicker._defaults.separator,l=u&&u.timeFormat?u.timeFormat:n.timepicker._defaults.timeFormat,a=l.split(e),h=a.length,s=i.split(e),c=s.length;if(c>1)return[s.splice(0,c-h).join(e),s.splice(0,h).join(e)]}catch(f){if(n.datepicker.log("Could not split the date from the time. Please check the following datetimepicker options\nthrown error: "+f+"\ndateTimeString"+i+"\ndateFormat = "+t+"\nseparator = "+u.separator+"\ntimeFormat = "+u.timeFormat),f.indexOf(":")>=0)return o=i.length-(f.length-f.indexOf(":")-2),v=i.substring(o),[n.trim(i.substring(0,o)),n.trim(i.substring(o))];throw f;}return[i,""]},e=function(t,i,r,u,f){var e,o=s(t,r,u,f),c,h;if(e=n.datepicker._base_parseDate(t,o[0],u),o[1]!==""){if(c=o[1],h=n.datepicker.parseTime(i,c,f),h===null)throw"Wrong time format";return{date:e,timeObj:h}}return{date:e}},i=function(t,i){if(t&&t.timezone_select){t._defaults.useLocalTimezone=!0;var u=typeof i!="undefined"?i:new Date,r=n.timepicker.timeZoneOffsetString(u);t._defaults.timezoneIso8601&&(r=r.substring(0,3)+":"+r.substring(3)),t.timezone_select.val(r)}};n.timepicker=new r,n.timepicker.timeZoneOffsetString=function(n){var t=n.getTimezoneOffset()*-1,i=t%60,r=(t-i)/60;return(t>=0?"+":"-")+("0"+(r*101).toString()).substr(-2)+("0"+(i*101).toString()).substr(-2)},n.timepicker.timeRange=function(t,i,r){return n.timepicker.handleRange("timepicker",t,i,r)},n.timepicker.dateTimeRange=function(t,i,r){n.timepicker.dateRange(t,i,r,"datetimepicker")},n.timepicker.dateRange=function(t,i,r,u){u=u||"datepicker",n.timepicker.handleRange(u,t,i,r)},n.timepicker.handleRange=function(t,i,r,u){function e(n,t,u){t.val()&&new Date(i.val())>new Date(r.val())&&t.val(u)}function f(i,r,u){if(n(i).val()){var f=n(i)[t].call(n(i),"getDate");f.getTime&&n(r)[t].call(n(r),"option",u,f)}}return n.fn[t].call(i,n.extend({onClose:function(n){e(this,r,n)},onSelect:function(){f(this,r,"minDate")}},u,u.start)),n.fn[t].call(r,n.extend({onClose:function(n){e(this,i,n)},onSelect:function(){f(this,i,"maxDate")}},u,u.end)),t!="timepicker"&&u.reformat&&n([i,r]).each(function(){var r=n(this)[t].call(n(this),"option","dateFormat"),i=new Date(n(this).val());n(this).val()&&i&&n(this).val(n.datepicker.formatDate(r,i))}),e(i,r,i.val()),f(i,r,"minDate"),f(r,i,"maxDate"),n([i.get(0),r.get(0)])},n.timepicker.version="1.1.1"}}(jQuery),function(n){function t(n,t,u){var f=n.scrollTop;n.setSelectionRange?i(n,t,u):document.selection&&r(n,t,u),n.scrollTop=f}function i(n,t,i){var r=n.selectionStart,s=n.selectionEnd,u,h,f,a,v;if(r==s)t?"\t"==n.value.substring(r-i.tabString.length,r)?(n.value=n.value.substring(0,r-i.tabString.length)+n.value.substring(r),n.focus(),n.setSelectionRange(r-i.tabString.length,r-i.tabString.length)):"\t"==n.value.substring(r,r+i.tabString.length)&&(n.value=n.value.substring(0,r)+n.value.substring(r+i.tabString.length),n.focus(),n.setSelectionRange(r,r)):(n.value=n.value.substring(0,r)+i.tabString+n.value.substring(r),n.focus(),n.setSelectionRange(r+i.tabString.length,r+i.tabString.length));else{var l=n.value.split("\n"),c=[],e=0,o=0;for(h in l)o=e+l[h].length,c.push({start:e,end:o,selected:e<=r&&o>r||o>=s&&e<s||e>r&&o<s}),e=o+1;u=0;for(h in c)c[h].selected&&(f=c[h].start+u,t&&i.tabString==n.value.substring(f,f+i.tabString.length)?(n.value=n.value.substring(0,f)+n.value.substring(f+i.tabString.length),u-=i.tabString.length):t||(n.value=n.value.substring(0,f)+i.tabString+n.value.substring(f),u+=i.tabString.length));n.focus(),a=r+(u>0?i.tabString.length:u<0?-i.tabString.length:0),v=s+u,n.setSelectionRange(a,v)}}function r(t,i,r){var u=document.selection.createRange(),w,p,l,d,a,o,c;if(t==u.parentElement())if(""==u.text)i?(w=u.getBookmark(),u.moveStart("character",-r.tabString.length),r.tabString==u.text?u.text="":(u.moveToBookmark(w),u.moveEnd("character",r.tabString.length),r.tabString==u.text&&(u.text="")),u.collapse(!0),u.select()):(u.text=r.tabString,u.collapse(!1),u.select());else{var b=u.text,v=b.length,f=b.split("\r\n"),s=document.body.createTextRange();s.moveToElementText(t),s.setEndPoint("EndToStart",u);var k=s.text,e=k.split("\r\n"),h=k.length,y=document.body.createTextRange();for(y.moveToElementText(t),y.setEndPoint("StartToEnd",u),p=y.text,l=document.body.createTextRange(),l.moveToElementText(t),l.setEndPoint("StartToEnd",s),d=l.text,a=n(t).html(),n("#r3").text(h+" + "+v+" + "+p.length+" = "+a.length),h+d.length<a.length?(e.push(""),h+=2,i&&r.tabString==f[0].substring(0,r.tabString.length)?f[0]=f[0].substring(r.tabString.length):i||(f[0]=r.tabString+f[0])):i&&r.tabString==e[e.length-1].substring(0,r.tabString.length)?e[e.length-1]=e[e.length-1].substring(r.tabString.length):i||(e[e.length-1]=r.tabString+e[e.length-1]),o=1;o<f.length;o++)i&&r.tabString==f[o].substring(0,r.tabString.length)?f[o]=f[o].substring(r.tabString.length):i||(f[o]=r.tabString+f[o]);1==e.length&&0==h&&(i&&r.tabString==f[0].substring(0,r.tabString.length)?f[0]=f[0].substring(r.tabString.length):i||(f[0]=r.tabString+f[0])),h+v+p.length<a.length&&(f.push(""),v+=2),s.text=e.join("\r\n"),u.text=f.join("\r\n"),c=document.body.createTextRange(),c.moveToElementText(t),0<h?c.setEndPoint("StartToEnd",s):c.setEndPoint("StartToStart",s),c.setEndPoint("EndToEnd",u),c.select()}}n.fn.tabby=function(i){var u=n.extend({},n.fn.tabby.defaults,i),r=n.fn.tabby.pressed;return this.each(function(){$this=n(this);var i=n.meta?n.extend({},u,$this.data()):u;$this.bind("keydown",function(u){var f=n.fn.tabby.catch_kc(u);return 16==f&&(r.shft=!0),17==f&&(r.ctrl=!0,setTimeout("$.fn.tabby.pressed.ctrl = false;",1e3)),18==f&&(r.alt=!0,setTimeout("$.fn.tabby.pressed.alt = false;",1e3)),9==f&&!r.ctrl&&!r.alt?(u.preventDefault,r.last=f,setTimeout("$.fn.tabby.pressed.last = null;",0),t(n(u.target).get(0),r.shft,i),!1):void 0}).bind("keyup",function(t){16==n.fn.tabby.catch_kc(t)&&(r.shft=!1)}).bind("blur",function(t){9==r.last&&n(t.target).one("focus",function(){r.last=null}).get(0).focus()})})},n.fn.tabby.catch_kc=function(n){return n.keyCode?n.keyCode:n.charCode?n.charCode:n.which},n.fn.tabby.pressed={shft:!1,ctrl:!1,alt:!1,last:null},n.fn.tabby.defaults={tabString:String.fromCharCode(9)}}(jQuery),$.extend($.ui.dialog.overlay,{create:function(n){this.instances.length===0&&(setTimeout(function(){$.ui.dialog.overlay.instances.length&&$(document).bind($.ui.dialog.overlay.events,function(n){var i=$(n.target).parents(".ui-dialog"),r,t;return i.length>0?(r=i.css("zIndex")||0)>$.ui.dialog.overlay.maxZ:(t=!1,$(n.target).parents().each(function(){var n=$(this).css("zIndex")||0;if(n>$.ui.dialog.overlay.maxZ){t=!0;return}}),t)})},1),$(document).bind("keydown.dialog-overlay",function(t){n.options.closeOnEscape&&t.keyCode&&t.keyCode==$.ui.keyCode.ESCAPE&&n.close(t)}),$(window).bind("resize.dialog-overlay",$.ui.dialog.overlay.resize));var t=$("<div><\/div>").appendTo(document.body).addClass("ui-widget-overlay").css({width:this.width(),height:this.height()});return n.options.stackfix&&$.fn.stackfix&&t.stackfix(),this.instances.push(t),t}}),onload=function(){var n=document.getElementById("refreshed");n.value=="no"?n.value="yes":(n.value="no",location.reload())},$(function(){$("#Settings-tab").tabs(),$("#main-tab").tabs(),$("#main-tab").show(),$("#deleteorg").click(function(n){n.preventDefault();var t=$(this).attr("href");return confirm("Are you sure you want to delete?")&&($.blockUI({message:"deleting org"}),$.post(t,null,function(n){n!="ok"?($.blockUI({message:n}),$(".blockOverlay").attr("title","Click to unblock").click($.unblockUI)):($.blockUI({message:"org deleted"}),$(".blockOverlay").attr("title","Click to unblock").click(function(){$.unblockUI(),window.location="/"}))})),!1}),$("#sendreminders").click(function(n){n.preventDefault();var t=$(this).attr("href");confirm("Are you sure you want to send reminders?")&&($.blockUI({message:"sending reminders"}),$.post(t,null,function(n){n!="ok"?($.unblockUI(),$.growlUI("error",n)):($.unblockUI(),$.growlUI("Email","Reminders Sent"))}))}),$("#reminderemails").click(function(n){n.preventDefault();var t=$(this).attr("href");return confirm("Are you sure you want to send reminders?")&&($.blockUI({message:"sending reminders"}),$.post(t,null,function(n){n!="ok"?($.blockUI({message:n}),$(".blockOverlay").attr("title","Click to unblock").click($.unblockUI)):($.blockUI({message:"org deleted"}),$(".blockOverlay").attr("title","Click to unblock").click(function(){$.unblockUI(),window.location="/"}))})),!1}),$(".bt").button(),$("form table.grid > tbody > tr:even").addClass("alt"),$(".CreateAndGo").click(function(n){return n.preventDefault(),confirm($(this).attr("confirm"))&&$.post($(this).attr("href"),null,function(n){window.location=n}),!1}),$("#memberDialog").dialog({title:"Add Members Dialog",bgiframe:!0,autoOpen:!1,width:750,height:700,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}}),$("#AddFromTag").dialog({title:"Add From Tag",bgiframe:!0,autoOpen:!1,width:750,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src",""),RebindMemberGrids()}}),$("a.addfromtag").live("click",function(n){n.preventDefault();var t=$("#AddFromTag");$("iframe",t).attr("src",this.href),t.dialog("option","title","Add Members From Tag"),t.dialog("open")}),$("#LongRunOp").dialog({bgiframe:!0,autoOpen:!1,width:600,height:400,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src",""),RebindMemberGrids(),$.updateTable($("#Meetings-tab form"))}}),$("#RepairTransactions").live("click",function(n){n.preventDefault();var t=$("#LongRunOp");$("iframe",t).attr("src",this.href),t.dialog("option","title","Repair Transactions"),t.dialog("open")}),$(".delmeeting").live("click",function(n){if(n.preventDefault(),confirm("delete meeting for sure?")){var t=$("#LongRunOp");$("iframe",t).attr("src",this.href),t.dialog("option","title","Delete Meeting"),t.dialog("open")}return!1}),$("a.addmembers").live("click",function(n){n.preventDefault();var t=$("#memberDialog");$("iframe",t).attr("src",this.href),t.dialog("option","title","Add Members"),t.dialog("open")}),$("a.memberdialog").live("click",function(n){n.preventDefault();var t=$("#memberDialog");$("iframe",t).attr("src",this.href),t.dialog("option","title",this.title||"Edit Member Dialog"),t.dialog("open")}),$("#inactive-link").click(function(){$.showTable($("#Inactive-tab form"))}),$("#pending-link").click(function(){$.showTable($("#Pending-tab form"))}),$("#priors-link").click(function(){$.showTable($("#Priors-tab form"))}),$("#visitors-link").click(function(){$.showTable($("#Visitors-tab form"))}),$("#meetings-link").click(function(){$.showTable($("#Meetings-tab form"))}),$.maxZIndex=$.fn.maxZIndex=function(n){var i={inc:10,group:"*"},t;return($.extend(i,n),t=0,$(i.group).each(function(){var n=parseInt($(this).css("z-index"));t=n>t?n:t}),!this.jquery)?t:this.each(function(){t+=i.inc,$(this).css("z-index",t)})},$.initDatePicker=function(n){$("ul.edit .datepicker",n).datepicker({}),$("ul.edit .timepicker",n).timepicker({stepHour:1,stepMinute:5,timeOnly:!0,timeFormat:"hh:mm tt",controlType:"slider"}),$("ul.edit .datetimepicker",n).datetimepicker({stepHour:1,stepMinute:15,timeOnly:!1,timeFormat:"hh:mm tt",controlType:"slider"})},$.showHideRegTypes=function(){$("#Settings-tab").tabs("option","disabled",[]),$("#QuestionList li").show(),$(".yes6").hide();switch($("#org_RegistrationTypeId").val()){case"0":$("#Settings-tab").tabs("option","disabled",[3,4,5]);break;case"6":$("#QuestionList > li").hide(),$(".yes6").show()}},$("#org_RegistrationTypeId").live("change",$.showHideRegTypes),$.showHideRegTypes(),$("a.displayedit,a.displayedit2").live("click",function(n){n.preventDefault();var t=$(this).closest("form");return $.post($(this).attr("href"),null,function(n){$(t).html(n).ready(function(){$.initDatePicker(t),$(".submitbutton,.bt",t).button(),$(".roundbox select",t).css("width","100%"),$("#schedules",t).sortable({stop:$.renumberListItems}),$("#editor",t),$.regsettingeditclick(t),$.showHideRegTypes(),$.updateQuestionList(),$("#selectquestions").dialog({title:"Add Question",autoOpen:!1,width:585,height:190,modal:!0}),$("a.AddQuestion").click(function(n){var t=$("#selectquestions");return t.dialog("open"),n.preventDefault(),!1}),$(".helptip").tooltip({showBody:"|"}),$(".tip",t).tooltip({showBody:"|"})})}),!1}),$("#selectquestions a").live("click",function(n){return n.preventDefault(),$.post("/Organization/NewAsk/",{id:"AskItems",type:$(this).attr("type")},function(n){$("#selectquestions").dialog("close"),$("html, body").animate({scrollTop:$("body").height()},800);var t=$("#QuestionList").append(n);$("#QuestionList > li:last").effect("highlight",{},3e3),$(".tip",t).tooltip({opacity:0,showBody:"|"}),$.updateQuestionList()}),!1}),$("ul.enablesort a.del").live("click",function(n){return(n.preventDefault(),!$(this).attr("href"))?!1:($(this).parent().parent().parent().remove(),!1)}),$("ul.enablesort a.delt").live("click",function(n){return(n.preventDefault(),!$(this).attr("href"))?!1:(confirm("are you sure?")&&($(this).parent().parent().remove(),$.updateQuestionList()),!1)}),$.exceptions=["AskDropdown","AskCheckboxes","AskExtraQuestions","AskYesNoQuestions","AskMenu"],$.updateQuestionList=function(){$("#selectquestions li").each(function(){var n=this.className;$.inArray(n,$.exceptions)>=0||$("li.type-"+n).length==0?$(this).html("<a href='#' type='"+n+"'>"+n+"<\/a>"):$(this).html("<span>"+n+"<\/span>")})},$(".helptip").tooltip({showBody:"|"}),$("form.DisplayEdit a.submitbutton").live("click",function(n){var t,i;return(n.preventDefault(),t=$(this).closest("form"),!$(t).valid())?!1:(i=t.serialize(),$.post($(this).attr("href"),i,function(n){$(t).html(n).ready(function(){$(".submitbutton,.bt").button(),$.regsettingeditclick(t),$.showHideRegTypes()})}),!1)}),$("#future").live("click",function(){var n=$(this).closest("form"),t=n.serialize();$.post($(n).attr("action"),t,function(t){$(n).html(t),$(".bt",n).button()})}),$("form.DisplayEdit").submit(function(){return $("#submitit").val()?!0:!1}),$("a.taguntag").live("click",function(n){return n.preventDefault(),$.post("/Organization/ToggleTag/"+$(this).attr("pid"),null,function(t){$(n.target).text(t)}),!1}),$.validator.addMethod("time",function(n,t){return this.optional(t)||/^\d{1,2}:\d{2}\s(?:AM|am|PM|pm)/.test(n)},"time format h:mm AM/PM"),$.validator.setDefaults({highlight:function(n){$(n).addClass("ui-state-highlight")},unhighlight:function(n){$(n).removeClass("ui-state-highlight")}}),$("#settingsForm").validate({rules:{"org.SchedTime":{time:!0},"org.OnLineCatalogSort":{digits:!0},"org.Limit":{digits:!0},"org.NumCheckInLabels":{digits:!0},"org.NumWorkerCheckInLabels":{digits:!0},"org.FirstMeetingDate":{date:!0},"org.LastMeetingDate":{date:!0},"org.RollSheetVisitorWks":{digits:!0},"org.GradeAgeStart":{digits:!0},"org.GradeAgeEnd":{digits:!0},"org.Fee":{number:!0},"org.Deposit":{number:!0},"org.ExtraFee":{number:!0},"org.ShirtFee":{number:!0},"org.ExtraOptionsLabel":{maxlength:50},"org.OptionsLabel":{maxlength:50},"org.NumItemsLabel":{maxlength:50},"org.GroupToJoin":{digits:!0},"org.RequestLabel":{maxlength:50},"org.DonationFundId":{number:!0}}}),$.getTable=function(n){var t=t||n.serialize(),i=$("#FilterGroups form");return t=t+"&"+i.serialize(),$.post(n.attr("action"),t,function(t){$(n).html(t).ready(function(){$("table.grid > tbody > tr:even",n).addClass("alt"),$("a.trigger-dropdown",n).dropdown(),$(".bt").button(),$(".datepicker").datepicker()})}),!1},$("a.filtergroupslink").live("click",function(n){n.preventDefault();var t=$(this).closest("form");return $("#FilterGroups").dialog({title:"Filter by Name, Small Groups",width:"300px",buttons:[{text:"Cancel","class":"bt",click:function(){$("#FilterGroups").dialog("close")}},{text:"Clear","class":"bt green",click:function(){$("#namefilter").val(""),$("#smallgrouplist").val(null),$.getTable(t),$("#FilterGroups").dialog("close")}},{text:"Ok","class":"blue bt",click:function(){$.getTable(t),$("#FilterGroups").dialog("close")}}]}),!1}),$("#namefilter").keypress(function(n){if((n.keyCode||n.which)==13){n.preventDefault();var t=$("#FilterGroups").dialog();buttons=t.dialog("option","buttons"),buttons[2].click()}return!0}),$("#addsch").live("click",function(n){n.preventDefault();var t=$(this).closest("form");$.post("/Organization/NewSchedule",null,function(n){$("#schedules",t).append(n).ready(function(){$.renumberListItems(),$.initDatePicker(t)})})}),$("a.deleteschedule").live("click",function(n){n.preventDefault(),$(this).parent().remove(),$.renumberListItems()}),$.renumberListItems=function(){i=1,$(".renumberMe").each(function(){$(this).val(i),i++})},$("#NewMeetingDialog").dialog({autoOpen:!1,width:488,height:450,modal:!0}),$("#RollsheetLink").live("click",function(n){n.preventDefault(),$("#grouplabel").text("By Group");var t=$("#NewMeetingDialog");t.dialog("option","buttons",{Ok:function(){var t=$.GetMeetingDateTime(),n;if(!t.valid)return!1;n="?org=curr&dt="+t.date+" "+t.time,$("#altnames").is(":checked")&&(n+="&altnames=true"),$("#group").is(":checked")&&(n+="&bygroup=1&sgprefix="),window.open("/Reports/Rollsheet/"+n),$(this).dialog("close")}}),t.dialog("open")}),$("#RallyRollsheetLink").live("click",function(n){n.preventDefault(),$("#grouplabel").text("By Group");var t=$("#NewMeetingDialog");t.dialog("option","buttons",{Ok:function(){var t=$.GetMeetingDateTime(),n;if(!t.valid)return!1;n="?org=curr&dt="+t.date+" "+t.time,$("#altnames").is(":checked")&&(n+="&altnames=true"),$("#group").is(":checked")&&(n+="&bygroup=1&sgprefix="),window.open("/Reports/RallyRollsheet/"+n),$(this).dialog("close")}}),t.dialog("open")}),$("#NewMeeting").live("click",function(n){n.preventDefault(),$("#grouplabel").text("Group Meeting");var t=$("#NewMeetingDialog");return t.dialog("option","buttons",{Ok:function(){var n=$.GetMeetingDateTime(),t;if(!n.valid)return!1;t="?d="+n.date+"&t="+n.time+"&group="+($("#group").is(":checked")?"true":"false"),$.post("/Organization/NewMeeting",{d:n.date,t:n.time,AttendCredit:$("#AttendCreditList").val(),group:$("#group").is(":checked")},function(n){n.startsWith("error")||(window.location=n)}),$(this).dialog("close")}}),t.dialog("open"),!1}),$("#ScheduleList").change(function(){var n=$(this).val().split(",");$("#NewMeetingDate").val(n[0]),$("#NewMeetingTime").val(n[1]),$("#AttendCreditList").val(n[2])}),$.GetMeetingDateTime=function(){var t=/^(0?[1-9]|1[012])[\/-](0?[1-9]|[12][0-9]|3[01])[\/-]((19|20)?[0-9]{2})$/i;$.dateFormat.startsWith("d")&&(t=/^(0?[1-9]|[12][0-9]|3[01])[\/-](0?[1-9]|1[012])[\/-]((19|20)?[0-9]{2})$/i);var i=$("#NewMeetingDate").val(),r=$("#NewMeetingTime").val(),n=!0;return/^ *(\d{1,2}):[0-5][0-9] *(a|p|A|P)(m|M) *$/.test(r)||($.growlUI("error","enter valid time"),n=!1),t.test(i)||($.growlUI("error","enter valid date"),n=!1),{date:i,time:r,valid:n}},$("a.joinlink").live("click",function(n){return n.preventDefault(),$.post("/Organization/Join/",{id:this.id},function(n){n=="ok"?RebindMemberGrids():alert(n)}),!1}),$("#divisionsDialog").dialog({title:"Select Divisions Dialog",bgiframe:!0,autoOpen:!1,width:690,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","");var n=$("#orginfoform");$.post("/Organization/OrgInfo/"+$("#OrganizationId").val(),null,function(t){$(n).html(t).ready(function(){$(".submitbutton,.bt").button()})})}}),$("#divisionlist").live("click",function(n){n.preventDefault();var t=$("#divisionsDialog");$("iframe",t).attr("src",this.href),t.dialog("open")}),$("#orgsDialog").dialog({title:"Select Orgs Dialog",bgiframe:!0,autoOpen:!1,width:690,height:650,modal:!0,overlay:{opacity:.5,background:"black"},close:function(){$("iframe",this).attr("src","")}}),$("#orgpicklist").live("click",function(n){n.preventDefault();var t=$("#orgsDialog");$("iframe",t).attr("src",this.href),t.dialog("open")}),$.extraEditable=function(){$(".editarea").editable("/Organization/EditExtra/",{type:"textarea",submit:"OK",rows:5,width:200,indicator:'<img src="/images/loading.gif">',tooltip:"Click to edit..."}),$(".editline").editable("/Organization/EditExtra/",{indicator:"<img src='/images/loading.gif'>",tooltip:"Click to edit...",style:"display: inline",width:200,height:25,submit:"OK"})},$.extraEditable(),$("#newvalueform").dialog({autoOpen:!1,buttons:{Ok:function(){var t=$("#multiline").is(":checked"),n=$("#fieldname").val(),i=$("#fieldvalue").val();n&&$.post("/Organization/NewExtraValue/"+$("#OrganizationId").val(),{field:n,value:i,multiline:t},function(n){n.startsWith("error")?alert(n):($("#extras > tbody").html(n),$.extraEditable()),$("#fieldname").val("")}),$(this).dialog("close")}}}),$("#newextravalue").live("click",function(n){n.preventDefault();var t=$("#newvalueform");t.dialog("open")}),$("#TryRegDialog").dialog({autoOpen:!1,width:500}),$("#tryreg").live("click",function(n){n.preventDefault();var t=$("#TryRegDialog");t.dialog("open")}),$("a.deleteextra").live("click",function(n){return n.preventDefault(),confirm("are you sure?")&&$.post("/Organization/DeleteExtra/"+$("#OrganizationId").val(),{field:$(this).attr("field")},function(n){n.startsWith("error")?alert(n):($("#extras > tbody").html(n),$.extraEditable())}),!1})}),function(n){function t(n){window.console&&window.console.log&&window.console.log("SearchUsers selection count: "+n.size())}n.fn.SearchUsers=function(i){t(this);var r=n.extend({},{},i);return this.each(function(){var t=n(this);t.click(function(t){t.preventDefault();var i=n(this).attr("href");return n("<div class='dialog' style='margin: 5px'>Loading...<\/div>").dialog({closeOnEscape:!0,title:r.title||"Select Users",width:"auto",autoSize:!0}).bind("dialogclose",function(){n(this).dialog("destroy")}).load(i,function(){var t=n(this);t.dialog("option","position",["center","center"]),t.dialog("option","width",t.offsetWidth+10),n("table.results > tbody > tr:even",t).addClass("alt"),n(".bt").button(),n(".UpdateSelected",n(this)).click(function(i){i.preventDefault();var u=n("table.results tbody tr:first ",t).find("input[type=checkbox]").attr("value");return r.UpdateShared&&r.UpdateShared(u),t.dialog("close"),!1}),n("a.search",t).click(function(t){t.preventDefault();var i=n(this).closest("form"),r=i.serialize();return n.post(n(this).attr("href"),r,function(t){n("table.results",i).replaceWith(t),n("table.results > tbody > tr:even",i).addClass("alt")}),!1}),n("a.close",t).click(function(n){return n.preventDefault(),t.dialog("close"),!1}),n("input[type=checkbox]",t).die("click").live("change",function(){var t=n(this).parents("tr:eq(0)").find("span.move"),i=n(this).is(":checked"),r=n(this).attr("value");n.post("/SearchUsers/TagUntag/"+r,{ischecked:!i},function(){i?t.html("<a href='#' class='move' value='"+r+"'>move to top<\/a>"):t.empty()})}),n("a.move",t).die("click").live("click",function(t){var i,r;t.preventDefault(),i=n(this).closest("form"),n("#topid").val(n(this).attr("value")),r=i.serialize(),n.post("/SearchUsers/MoveToTop",r,function(t){n("table.results",i).replaceWith(t).ready(function(){n("table.results > tbody > tr:even",i).addClass("alt")})})})}),!1})})}}(jQuery),$(function(){$("#editor").ckeditor({height:200,filebrowserUploadUrl:"/Account/CKEditorUpload/",filebrowserImageUploadUrl:"/Account/CKEditorUpload/",toolbar_Full:[["Source"],["Cut","Copy","Paste","PasteText","PasteFromWord","-","SpellChecker","Scayt"],["Undo","Redo","-","Find","Replace","-","SelectAll","RemoveFormat"],"/",["Bold","Italic","Underline","Strike","-","Subscript","Superscript"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote","CreateDiv"],["JustifyLeft","JustifyCenter","JustifyRight"],["Link","Unlink","Anchor"],["Image","Table","SpecialChar"],"/",["Styles","Format","Font","FontSize"],["TextColor","BGColor"],["Maximize","ShowBlocks","-","About"]]}),$("ul.enablesort div.newitem > a").live("click",function(n){if(!$(this).attr("href"))return!1;n.preventDefault();var t=$(this);$.post(t.attr("href"),null,function(n){t.parent().prev().append(n),t.parent().prev().find(".tip").tooltip({opacity:0,showBody:"|"})})}),$.regsettingeditclick=function(n){$(".tip",n).tooltip({opacity:0,showBody:"|"}),$("ul.enablesort.sort, ul.enablesort ul.sort",n).sortable(),$("ul.noedit input",n).attr("disabled","disabled"),$("ul.noedit select",n).attr("disabled","disabled"),$("ul.noedit a",n).not('[target="otherorg"]').removeAttr("href"),$("ul.noedit a",n).not('[target="otherorg"]').css("color","grey"),$("ul.noedit a",n).not('[target="otherorg"]').unbind("click"),$("#notifylist").SearchUsers({UpdateShared:function(n){$.post("/Organization/UpdateNotifyIds",{id:$("#OrganizationId").val(),topid:n},function(n){$("#notifylist").html(n)})}})},$.regsettingeditclick(),$("a.editor").live("click",function(n){if(!$(this).attr("href"))return!1;var t=$(this).attr("tb");return n.preventDefault(),$("#EditorDialog").dialog({width:650,height:450,modal:!0,draggable:!0,resizable:!0,open:function(){$("#editor").val($("#"+t).val())},buttons:{Save:function(){var n=$("#editor").val();$("#"+t).val(n),$("#"+t+"_ro").html(n),$(this).dialog("close")}}}),!1})});CKEDITOR.on("dialogDefinition",function(n){var e=n.data.name,o=n.data.definition,t,r,u,f,i;e=="link"&&(t=o.getContents("advanced"),t.label="SpecialLinks",t.remove("advCSSClasses"),t.remove("advCharset"),t.remove("advContentType"),t.remove("advStyles"),t.remove("advAccessKey"),t.remove("advName"),t.remove("advLangCode"),t.remove("advTabIndex"),r=t.get("advRel"),r.label="SmallGroup",u=t.get("advTitle"),u.label="Message",f=t.get("advId"),f.label="OrgId/MeetingId",i=t.get("advLangDir"),i.label="Confirmation",i.items[1][0]="Yes, send confirmation",i.items[2][0]="No, do not send confirmation")})